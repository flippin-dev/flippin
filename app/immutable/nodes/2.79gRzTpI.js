import{a as me,e as A,o as le,b as U,c as B,d as T,p as oe,h as m,f as G,j as a,k as P,l as p,n as J,m as D,t as ae,q as ne,S as Ot,y as de,v as ce,x as Ke,T as nt,g as we,U as Z,V as Bt,r as it,A as ut,W as Y,X as Q,Y as Wt,z as qt,u as ct,E as Ut}from"../chunks/CQgOwJqN.js";import{S as Ce,i as Ve,g as We,t as $,c as qe,a as K,b as ze,d as Me,m as Ee,e as Te,f as Gt}from"../chunks/Cpik4oo1.js";import{f as Pe,d as St,g as ve,a as ke,c as je,b as ge,h as Se,e as Ne,i as se,j as Je,t as Ue,s as lt,k as He,l as be,n as De,m as Ye,o as xe,p as ft,u as jt,q as Yt,r as Xt,v as Qt,w as dt,x as Zt,y as Kt,z as et,A as ht,B as Ge,C as Be,D as ot,E as tt,F as mt,G as st,H as Xe,I as ee,J as Ae,K as at,L as _t,M as pt,N as rt,O as Jt,P as xt,Q as Oe,R as $t,S as bt,T as ye,U as Qe,V as er,W as Ze,X as tr}from"../chunks/CGnrzyqR.js";const rr=(l,{min_size:r=10,max_size:e=100}={min_size:10,max_size:100})=>{const t=()=>{l.parentElement&&or(l,l.parentElement,r,e)},o=new ResizeObserver(t);return o.observe(l==null?void 0:l.parentElement),{destroy(){o.disconnect()}}};function lr({clientWidth:l,clientHeight:r,scrollWidth:e,scrollHeight:t}){return e>l||t>r}function or(l,r,e,t){let o=e,s=!1,i=e;for(l.style.fontSize=`${i}px`;!s&&o<t;)s=lr(r),s||(l.style.fontSize=`${o}px`,o++);i=o-2,l.style.fontSize=`${i}px`}function gt(l){let r,e,t,o,s;return{c(){r=A("div"),e=A("h1"),t=ae(l[0]),this.h()},l(i){r=B(i,"DIV",{class:!0});var c=T(r);e=B(c,"H1",{class:!0});var n=T(e);t=ne(n,l[0]),n.forEach(m),c.forEach(m),this.h()},h(){a(e,"class","svelte-2p64qv"),a(r,"class","subtitle-parent svelte-2p64qv")},m(i,c){P(i,r,c),p(r,e),p(e,t),o||(s=Ot(rr.call(null,e,{min_size:18,max_size:34})),o=!0)},p(i,c){c&1&&de(t,i[0])},d(i){i&&m(r),o=!1,s()}}}function sr(l){let r,e,t,o,s,i,c,n,u,f,h,_=l[0],k=gt(l);return{c(){r=A("header"),e=A("div"),t=le("svg"),o=le("path"),s=le("path"),i=le("path"),c=le("path"),n=le("path"),u=le("path"),f=le("path"),h=U(),k.c(),this.h()},l(b){r=B(b,"HEADER",{role:!0,class:!0});var M=T(r);e=B(M,"DIV",{class:!0});var v=T(e);t=oe(v,"svg",{viewBox:!0,fill:!0,xmlns:!0,role:!0,"aria-label":!0,class:!0});var w=T(t);o=oe(w,"path",{d:!0,stroke:!0}),T(o).forEach(m),s=oe(w,"path",{d:!0,stroke:!0}),T(s).forEach(m),i=oe(w,"path",{d:!0,stroke:!0}),T(i).forEach(m),c=oe(w,"path",{d:!0,stroke:!0}),T(c).forEach(m),n=oe(w,"path",{d:!0,stroke:!0}),T(n).forEach(m),u=oe(w,"path",{d:!0,stroke:!0}),T(u).forEach(m),f=oe(w,"path",{d:!0,stroke:!0}),T(f).forEach(m),w.forEach(m),h=G(v),k.l(v),v.forEach(m),M.forEach(m),this.h()},h(){a(o,"d","M0 0.5 H5 M0.5 0 V5 M1.5 0 V5 M0 2.5 H5"),a(o,"stroke","var(--color-theme-1)"),a(s,"d","M6.5 0 V5 M7.5 0 V5 M6 4.5 H11"),a(s,"stroke","var(--color-theme-2)"),a(i,"d","M12 0.5 H17 M13.5 0 V5 M14.5 0 V5 M12 4.5 H17"),a(i,"stroke","var(--color-theme-3)"),a(c,"d","M18 0.5 H23 M18.5 0 V5 M19.5 0 V5 M22.5 0 V3 M18 2.5 H23"),a(c,"stroke","var(--color-theme-1)"),a(n,"d","M24 0.5 H29 M24.5 0 V5 M27.5 0 V3 M28.5 0 V3 M24 2.5 H29"),a(n,"stroke","var(--color-theme-2)"),a(u,"d","M30 0.5 H35 M32.5 0 V5 M33.5 0 V5 M30 4.5 H35"),a(u,"stroke","var(--color-theme-3)"),a(f,"d","M36.5 0 V5 M39.5 0 V5 M40.5 0 V5 M37 1.5 H38 M38 2.5 H39"),a(f,"stroke","var(--color-theme-1)"),a(t,"viewBox","0 0 41 5"),a(t,"fill","none"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"role","img"),a(t,"aria-label","Flippin logo"),a(t,"class","svelte-2p64qv"),a(e,"class","title-container svelte-2p64qv"),a(r,"role","banner"),a(r,"class","title")},m(b,M){P(b,r,M),p(r,e),p(e,t),p(t,o),p(t,s),p(t,i),p(t,c),p(t,n),p(t,u),p(t,f),p(e,h),k.m(e,null)},p(b,[M]){M&1&&me(_,_=b[0])?(k.d(1),k=gt(b),k.c(),k.m(e,null)):k.p(b,M)},i:J,o:J,d(b){b&&m(r),k.d(b)}}}function ar(l,r,e){let t,o,s,i,c;D(l,Pe,u=>e(1,o=u)),D(l,St,u=>e(2,s=u)),D(l,ve,u=>e(3,i=u)),D(l,ke,u=>e(4,c=u));function n(u){return u.startsWith(je)?u.substring(je.length):u}return l.$$.update=()=>{l.$$.dirty&30&&e(0,t=c==="daily"?`#${i}: ${s}`:n(o.title))},[t,o,s,i,c]}class nr extends Ce{constructor(r){super(),Ve(this,r,ar,sr,me,{})}}function ir(l){let r=l[2].format(Ue)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,o){P(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(Ue)+"")&&de(e,r)},d(t){t&&m(e)}}}function ur(l){let r;return{c(){r=ae(l[0])},l(e){r=ne(e,l[0])},m(e,t){P(e,r,t)},p(e,t){t&1&&de(r,e[0])},d(e){e&&m(r)}}}function cr(l){let r;function e(s,i){return s[1]&&s[0]?ur:ir}let t=e(l),o=t(l);return{c(){o.c(),r=ce()},l(s){o.l(s),r=ce()},m(s,i){o.m(s,i),P(s,r,i)},p(s,[i]){t===(t=e(s))&&o?o.p(s,i):(o.d(1),o=t(s),o&&(o.c(),o.m(r.parentNode,r)))},i:J,o:J,d(s){s&&m(r),o.d(s)}}}function fr(l,r,e){let t,o,s,i;D(l,ge,h=>e(5,o=h)),D(l,Se,h=>e(6,s=h)),D(l,Ne,h=>e(7,i=h));let{interval:c}=r,{message:n}=r,u,f=!1;return Ke(()=>{e(4,u=setInterval(()=>{i===null&&(ge.update(h=>h+1e3),o>=c*1e3&&(clearInterval(u),e(1,f=!0)))},1e3))}),se.extend(Je),nt(()=>{clearInterval(u)}),l.$$set=h=>{"interval"in h&&e(3,c=h.interval),"message"in h&&e(0,n=h.message)},l.$$.update=()=>{l.$$.dirty&32&&e(2,t=se.duration(o)),l.$$.dirty&120&&s&&(o>=c*1e3&&e(1,f=!0),clearInterval(u))},[n,f,t,c,u,o,s]}class dr extends Ce{constructor(r){super(),Ve(this,r,fr,cr,me,{interval:3,message:0})}}function hr(l){let r=l[2].format(Ue)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,o){P(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(Ue)+"")&&de(e,r)},d(t){t&&m(e)}}}function mr(l){let r;return{c(){r=ae(l[0])},l(e){r=ne(e,l[0])},m(e,t){P(e,r,t)},p(e,t){t&1&&de(r,e[0])},d(e){e&&m(r)}}}function _r(l){let r;function e(s,i){return s[1]&&s[0]?mr:hr}let t=e(l),o=t(l);return{c(){o.c(),r=ce()},l(s){o.l(s),r=ce()},m(s,i){o.m(s,i),P(s,r,i)},p(s,[i]){t===(t=e(s))&&o?o.p(s,i):(o.d(1),o=t(s),o&&(o.c(),o.m(r.parentNode,r)))},i:J,o:J,d(s){s&&m(r),o.d(s)}}}function pr(l,r,e){let t,o,s,i,c;D(l,lt,k=>e(5,o=k)),D(l,He,k=>e(6,s=k)),D(l,be,k=>e(7,i=k)),D(l,Ne,k=>e(8,c=k));let{interval:n}=r,{message:u}=r,f,h=!1;function _(){e(4,f=setInterval(()=>{!i&&!h&&c===null&&(He.update(k=>k+1e3),s>=n*1e3&&(clearInterval(f),e(1,h=!0)))},1e3))}return Ke(()=>{_()}),se.extend(Je),nt(()=>{clearInterval(f)}),l.$$set=k=>{"interval"in k&&e(3,n=k.interval),"message"in k&&e(0,u=k.message)},l.$$.update=()=>{l.$$.dirty&64&&e(2,t=se.duration(s)),l.$$.dirty&216&&i&&(s>=n*1e3&&e(1,h=!0),clearInterval(f)),l.$$.dirty&48&&o&&(lt.set(!1),clearInterval(f),He.set(0),_())},[u,h,t,n,f,o,s,i]}class br extends Ce{constructor(r){super(),Ve(this,r,pr,_r,me,{interval:3,message:0})}}function gr(l){let r,e;return r=new br({props:{interval:xe,message:ft}}),{c(){ze(r.$$.fragment)},l(t){Me(r.$$.fragment,t)},m(t,o){Ee(r,t,o),e=!0},i(t){e||(K(r.$$.fragment,t),e=!0)},o(t){$(r.$$.fragment,t),e=!1},d(t){Te(r,t)}}}function vr(l){let r,e;return r=new dr({props:{interval:xe,message:ft}}),{c(){ze(r.$$.fragment)},l(t){Me(r.$$.fragment,t)},m(t,o){Ee(r,t,o),e=!0},i(t){e||(K(r.$$.fragment,t),e=!0)},o(t){$(r.$$.fragment,t),e=!1},d(t){Te(r,t)}}}function kr(l){let r,e,t='<svg aria-hidden="true" viewBox="-2 -2 12 17" fill="none" stroke="var(--color-text)" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M0.5 4.5 A3.5 3.5 0 1 1 4 8 V9" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="4" cy="12" r="0.75" stroke-width="1.5"></circle></svg>',o,s,i=`<svg aria-hidden="true" viewBox="-3 -3 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><circle cx="0" cy="0" r="1"></circle><path d="
                M1.4979407787322998 -0.07850953936576843 L1.9972550868988037 -0.10466885566711426
                M0.38822856545448303 -1.4488887786865234 L0.517638087272644 -1.9318516254425049 
                M-1.2580000162124634 -0.8169616460800171 L-1.6773391962051392 -1.089273452758789
                M-1.165722131729126 0.94398432970047 L-1.5542904138565063 1.2586369514465332
                M0.5375528335571289 1.400375485420227 L0.7167364358901978 1.867156744003296
            "></path></svg>`,c,n,u,f,h,_,k='<svg aria-hidden="true" viewBox="-0.6 -0.5 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M1 2 V4 M2.5 1 V4 M4 3 V4"></path></svg>',b,M,v,w,L,I,S,F;const y=[vr,gr],H=[];function q(z,C){return z[0]==="daily"?0:1}return u=q(l),f=H[u]=y[u](l),{c(){r=A("div"),e=A("button"),e.innerHTML=t,o=U(),s=A("button"),s.innerHTML=i,c=U(),n=A("div"),f.c(),h=U(),_=A("button"),_.innerHTML=k,b=U(),M=A("button"),v=le("svg"),w=le("path"),this.h()},l(z){r=B(z,"DIV",{"data-toolbar-size":!0,"data-toolbar-direction":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var C=T(r);e=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),we(e)!=="svelte-mw9vy7"&&(e.innerHTML=t),o=G(C),s=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),we(s)!=="svelte-1dkmrrv"&&(s.innerHTML=i),c=G(C),n=B(C,"DIV",{role:!0,"aria-label":!0,class:!0});var O=T(n);f.l(O),O.forEach(m),h=G(C),_=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),we(_)!=="svelte-wr6plk"&&(_.innerHTML=k),b=G(C),M=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var R=T(M);v=oe(R,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,xmlns:!0,height:!0,width:!0});var j=T(v);w=oe(j,"path",{d:!0}),T(w).forEach(m),j.forEach(m),R.forEach(m),C.forEach(m),this.h()},h(){a(e,"title","How to play"),a(e,"data-toolbar-pos","0"),a(e,"class","svelte-1y5nl4x"),a(s,"title","Settings"),a(s,"data-toolbar-pos","1"),a(s,"class","svelte-1y5nl4x"),a(n,"role","timer"),a(n,"aria-label","game timer"),a(n,"class","timer-container svelte-1y5nl4x"),a(_,"title","Stats"),a(_,"data-toolbar-pos","2"),a(_,"class","svelte-1y5nl4x"),a(w,"d",`
                M-1.4142135381698608 -1.4142135381698608 
                A1.999999965771458 1.999999965771458 0 1 1 -1.4999996423721313 0.4999951720237732
                M-1.4142135381698608 -1.4142135381698608 L-0.4142089784145355 -1.4142135381698608
                M-1.4142135381698608 -1.4142135381698608 L-1.4142135381698608 -2.414217948913574
            `),a(v,"aria-hidden","true"),a(v,"viewBox","-3.75 -3.5 8 6.25"),a(v,"fill","none"),a(v,"stroke","var(--color-text)"),a(v,"stroke-linecap","round"),a(v,"xmlns","http://www.w3.org/2000/svg"),a(v,"height","100%"),a(v,"width","100%"),a(M,"title","Reset the board"),a(M,"data-toolbar-pos","3"),M.disabled=l[3],a(M,"aria-disabled",l[3]),a(M,"class","svelte-1y5nl4x"),a(r,"data-toolbar-size",L=l[3]?3:4),a(r,"data-toolbar-direction","horizontal"),a(r,"role","toolbar"),a(r,"aria-controls","game-board"),a(r,"aria-label","game controls"),a(r,"class","controls svelte-1y5nl4x")},m(z,C){P(z,r,C),p(r,e),p(r,o),p(r,s),p(r,c),p(r,n),H[u].m(n,null),p(r,h),p(r,_),p(r,b),p(r,M),p(M,v),p(v,w),l[15](r),I=!0,S||(F=[Z(e,"click",l[5]),Z(e,"keydown",l[6]),Z(s,"click",l[7]),Z(s,"keydown",l[8]),Z(_,"click",l[9]),Z(_,"keydown",l[10]),Z(M,"click",l[11]),Z(M,"keydown",l[12]),Z(M,"touchstart",Bt(l[13])),Z(M,"touchend",l[14],{passive:!0})],S=!0)},p(z,[C]){let O=u;u=q(z),u!==O&&(We(),$(H[O],1,1,()=>{H[O]=null}),qe(),f=H[u],f||(f=H[u]=y[u](z),f.c()),K(f,1),f.m(n,null)),(!I||C&8)&&(M.disabled=z[3]),(!I||C&8)&&a(M,"aria-disabled",z[3]),(!I||C&8&&L!==(L=z[3]?3:4))&&a(r,"data-toolbar-size",L)},i(z){I||(K(f),I=!0)},o(z){$(f),I=!1},d(z){z&&m(r),H[u].d(),l[15](null),S=!1,it(F)}}}function yr(l,r,e){let t,o,s;D(l,ke,I=>e(0,o=I)),D(l,Se,I=>e(4,s=I));let i,c=!1;const n=()=>Ne.set("tutorial"),u=I=>De(I,i),f=()=>Ne.set("settings"),h=I=>De(I,i),_=()=>Ne.set("stats"),k=I=>De(I,i),b=()=>{c||t||Ye.set(!0)},M=I=>De(I,i),v=()=>{e(2,c=!0),t||Ye.set(!0)},w=()=>e(2,c=!1);function L(I){ut[I?"unshift":"push"](()=>{i=I,e(1,i)})}return l.$$.update=()=>{l.$$.dirty&17&&e(3,t=s&&o==="daily")},[o,i,c,t,s,n,u,f,h,_,k,b,M,v,w,L]}class wr extends Ce{constructor(r){super(),Ve(this,r,yr,kr,me,{})}}function zr(l){let r=l[2].format(dt)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,o){P(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(dt)+"")&&de(e,r)},d(t){t&&m(e)}}}function Mr(l){let r,e;return{c(){r=A("a"),e=ae(l[0]),this.h()},l(t){r=B(t,"A",{class:!0,"data-sveltekit-reload":!0,href:!0});var o=T(r);e=ne(o,l[0]),o.forEach(m),this.h()},h(){a(r,"class","redirect-link svelte-cevt0q"),a(r,"data-sveltekit-reload",""),a(r,"href","/flippin/")},m(t,o){P(t,r,o),p(r,e)},p(t,o){o&1&&de(e,t[0])},d(t){t&&m(r)}}}function Er(l){let r;function e(s,i){return s[1]&&s[0]?Mr:zr}let t=e(l),o=t(l);return{c(){o.c(),r=ce()},l(s){o.l(s),r=ce()},m(s,i){o.m(s,i),P(s,r,i)},p(s,[i]){t===(t=e(s))&&o?o.p(s,i):(o.d(1),o=t(s),o&&(o.c(),o.m(r.parentNode,r)))},i:J,o:J,d(s){s&&m(r),o.d(s)}}}function Tr(l,r,e){let t,{message:o}=r;se.extend(jt),se.extend(Yt),se.tz.setDefault(Xt);let s,i=!1;const c=se.tz().endOf("d");let n=c.diff(se.tz());return se.extend(Je),Ke(()=>{if(n<=0||Y(ve)<Qt()){e(1,i=!0);return}s=setInterval(()=>{e(3,n=c.diff(se.tz())),n<=0&&e(1,i=!0)},1e3)}),nt(()=>{clearInterval(s)}),l.$$set=u=>{"message"in u&&e(0,o=u.message)},l.$$.update=()=>{l.$$.dirty&8&&e(2,t=se.duration(n))},[o,i,t,n]}class Cr extends Ce{constructor(r){super(),Ve(this,r,Tr,Er,me,{message:0})}}function vt(l){let r,e="OR TRY FREEPLAY!",t,o,s="Play",i,c;return{c(){r=A("p"),r.textContent=e,t=U(),o=A("button"),o.textContent=s,this.h()},l(n){r=B(n,"P",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-1pg1diw"&&(r.textContent=e),t=G(n),o=B(n,"BUTTON",{title:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),we(o)!=="svelte-1cmkl3n"&&(o.textContent=s),this.h()},h(){a(r,"class","label-text svelte-1lzzu7z"),a(o,"title","Start random freeplay puzzle"),a(o,"aria-label","start random freeplay puzzle"),a(o,"class","svelte-1lzzu7z")},m(n,u){P(n,r,u),P(n,t,u),P(n,o,u),i||(c=Z(o,"click",l[7]),i=!0)},p:J,d(n){n&&(m(r),m(t),m(o)),i=!1,c()}}}function Vr(l){let r,e,t,o,s,i,c,n,u,f,h,_,k,b,M,v,w,L,I,S="Share",F,y,H="NEW PUZZLE IN:",q,z,C,O,R,j,re;C=new Cr({props:{message:Zt}});let W=l[0]==="daily"&&vt(l);return{c(){r=A("div"),e=A("div"),t=A("p"),o=A("strong"),s=ae(l[4]),i=U(),c=A("p"),n=ae("Moves: "),u=ae(l[1]),f=U(),h=A("p"),_=ae("Resets: "),k=ae(l[2]),b=U(),M=A("p"),v=ae("Hints: "),w=ae(l[3]),L=U(),I=A("button"),I.textContent=S,F=U(),y=A("p"),y.textContent=H,q=U(),z=A("div"),ze(C.$$.fragment),O=U(),W&&W.c(),this.h()},l(V){r=B(V,"DIV",{role:!0,"aria-label":!0,class:!0});var d=T(r);e=B(d,"DIV",{role:!0,class:!0});var E=T(e);t=B(E,"P",{class:!0});var N=T(t);o=B(N,"STRONG",{});var ie=T(o);s=ne(ie,l[4]),ie.forEach(m),N.forEach(m),i=G(E),c=B(E,"P",{class:!0});var fe=T(c);n=ne(fe,"Moves: "),u=ne(fe,l[1]),fe.forEach(m),f=G(E),h=B(E,"P",{class:!0});var _e=T(h);_=ne(_e,"Resets: "),k=ne(_e,l[2]),_e.forEach(m),b=G(E),M=B(E,"P",{class:!0});var pe=T(M);v=ne(pe,"Hints: "),w=ne(pe,l[3]),pe.forEach(m),E.forEach(m),L=G(d),I=B(d,"BUTTON",{class:!0,title:!0,"aria-label":!0,"data-svelte-h":!0}),we(I)!=="svelte-1vr6q8x"&&(I.textContent=S),F=G(d),y=B(d,"P",{class:!0,"data-svelte-h":!0}),we(y)!=="svelte-nrk27u"&&(y.textContent=H),q=G(d),z=B(d,"DIV",{role:!0,"aria-label":!0,class:!0});var te=T(z);Me(C.$$.fragment,te),te.forEach(m),O=G(d),W&&W.l(d),d.forEach(m),this.h()},h(){a(t,"class","svelte-1lzzu7z"),a(c,"class","svelte-1lzzu7z"),a(h,"class","svelte-1lzzu7z"),a(M,"class","svelte-1lzzu7z"),a(e,"role","presentation"),a(e,"class","game-recap svelte-1lzzu7z"),a(I,"class","share-button svelte-1lzzu7z"),a(I,"title","Copy results to clipboard"),a(I,"aria-label","copy game results to clipboard"),a(y,"class","label-text svelte-1lzzu7z"),a(z,"role","timer"),a(z,"aria-label","countdown to next daily puzzle"),a(z,"class","countdown-container svelte-1lzzu7z"),a(r,"role","region"),a(r,"aria-label","post-game info"),a(r,"class","game-over-block svelte-1lzzu7z"),Q(r,"reduced-motion",l[5])},m(V,d){P(V,r,d),p(r,e),p(e,t),p(t,o),p(o,s),p(e,i),p(e,c),p(c,n),p(c,u),p(e,f),p(e,h),p(h,_),p(h,k),p(e,b),p(e,M),p(M,v),p(M,w),p(r,L),p(r,I),p(r,F),p(r,y),p(r,q),p(r,z),Ee(C,z,null),p(r,O),W&&W.m(r,null),R=!0,j||(re=Z(I,"click",l[6]),j=!0)},p(V,[d]){(!R||d&16)&&de(s,V[4]),(!R||d&2)&&de(u,V[1]),(!R||d&4)&&de(k,V[2]),(!R||d&8)&&de(w,V[3]),V[0]==="daily"?W?W.p(V,d):(W=vt(V),W.c(),W.m(r,null)):W&&(W.d(1),W=null),(!R||d&32)&&Q(r,"reduced-motion",V[5])},i(V){R||(K(C.$$.fragment,V),R=!0)},o(V){$(C.$$.fragment,V),R=!1},d(V){V&&m(r),Te(C),W&&W.d(),j=!1,re()}}}function Ir(l,r,e){let t,o,s,i,c,n,u,f;D(l,Kt,y=>e(13,o=y)),D(l,et,y=>e(14,s=y)),D(l,ht,y=>e(15,i=y)),D(l,ke,y=>e(0,c=y)),D(l,Ge,y=>e(8,n=y)),D(l,Be,y=>e(9,u=y)),D(l,ot,y=>e(5,f=y)),se.extend(Je);let{curBoard:h,moveCount:_,resetCount:k,hintCount:b,hasSurrendered:M}=Y(Be),v=!1;function w(){const y=Y(ke)==="daily"?Y(ge):Y(He);return y/1e3>=xe?-1:y}function L(y){return y.startsWith(je)?y.substring(je.length):y}function I(){const H=`Flippin ${Y(ke)==="daily"?`#${Y(ve)}: ${Y(St)}`:L(Y(Pe).title)}`,q="https://flippin-dev.github.io/flippin/",z=w(),C=z>0?se.duration(z).format(Ue):ft;if(h===null){tt("Could not find board image",{theme:{"--toastBackground":"var(--error-color)"}});return}let O="";for(let j=0;j<h.length;j++)j%ee===0&&j!==0&&(O+=`
`),O+=h[j]==="0"?"🟥":h[j]==="1"?"🟩":"🟦";let R=`${H}
${O}
Time: ${C}${M?" 🏳":""}
Moves: ${_??""}${!M&&v?" ⭐":""}
Resets: ${k??""}
Hints: ${b??""}

${q}`;navigator.clipboard.writeText(R).then(()=>tt("Results copied to clipboard"),()=>tt("Could not complete action",{theme:{"--toastBackground":"var(--error-color)"}}))}function S(y){const H=w();let q=0;if(y==="daily"){const z=Y(ve);if(z>0&&z<mt.length+1){const C=mt[z-1];q=st(C.start,C.end).reduce((O,R)=>O+R,0)}}else{const z=Y(Pe);q=st(z.start,z.end).reduce((C,O)=>C+O,0)}return v=!1,M?"NEXT TIME!":_===q&&b===0?(v=!0,"PERFECT!"):H<0?"SLOW AND STEADY!":H/1e3<=60?"SPEEDY!":b===0?"NO HELP NEEDED!":"CONGRATULATIONS!"}let F=()=>{et.set(Math.floor(Math.random()*i.length));const y=i[s],H=o.get(y),q=H?{title:y,start:H.start,end:H.end}:Xe;Pe.set(q),H===void 0&&et.set(Y(ht).findIndex(z=>z===Xe.title)),ke.set("freeplay")};return l.$$.update=()=>{l.$$.dirty&513&&c==="daily"&&e(1,{curBoard:h,moveCount:_,resetCount:k,hintCount:b,hasSurrendered:M}=u,_,(e(2,k),e(0,c),e(9,u),e(8,n)),(e(3,b),e(0,c),e(9,u),e(8,n))),l.$$.dirty&257&&c==="freeplay"&&e(1,{curBoard:h,moveCount:_,resetCount:k,hintCount:b,hasSurrendered:M}=n,_,(e(2,k),e(0,c),e(9,u),e(8,n)),(e(3,b),e(0,c),e(9,u),e(8,n))),l.$$.dirty&1&&e(4,t=S(c))},[c,_,k,b,t,f,I,F,n,u]}class Ar extends Ce{constructor(r){super(),Ve(this,r,Ir,Vr,me,{})}}function Br(l){let r,e,t,o,s,i,c,n,u,f,h,_,k,b,M;return{c(){r=A("div"),e=A("button"),t=le("svg"),o=le("path"),c=U(),n=A("button"),u=le("svg"),f=le("path"),this.h()},l(v){r=B(v,"DIV",{"data-toolbar-size":!0,"data-toolbar-direction":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var w=T(r);e=B(w,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var L=T(e);t=oe(L,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,xmlns:!0,width:!0,height:!0});var I=T(t);o=oe(I,"path",{d:!0}),T(o).forEach(m),I.forEach(m),L.forEach(m),c=G(w),n=B(w,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var S=T(n);u=oe(S,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,xmlns:!0,width:!0,height:!0});var F=T(u);f=oe(F,"path",{d:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),T(f).forEach(m),F.forEach(m),S.forEach(m),w.forEach(m),this.h()},h(){a(o,"d",`m 7.0040696,7.6221535 -1,2
                h -3
                l -1,-2
                a 4,4 0 1 1 5,0
                z
                m -4,3.4999995
                h 3
                m -2,1.5
                h 1`),a(t,"aria-hidden","true"),a(t,"viewBox","0 0 9.0081396 13.122153"),a(t,"fill","var(--color-text)"),a(t,"stroke","var(--color-text)"),a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"xmlns","http://www.w3.org/2000/svg"),a(t,"width","70%"),a(t,"height","70%"),a(e,"title","Hint"),a(e,"data-toolbar-pos","0"),e.disabled=s=l[1]||l[2],a(e,"aria-disabled",i=l[1]||l[2]),a(e,"class","svelte-1vtr7qa"),a(f,"d",`M 11.652055,80.048603
            Q 17.429027,62.971525 30.970571,74.872222 44.512115,86.772919 50.289088,69.695841
            L 43.818612,45.547695
            Q 38.041639,62.624773 24.500095,50.724076 10.958551,38.823379 5.1815788,55.900457
            L 18.122531,104.19675`),a(f,"stroke-width","8"),a(f,"stroke-linecap","round"),a(f,"stroke-linejoin","round"),a(u,"aria-hidden","true"),a(u,"viewBox","0 18 50 110"),a(u,"fill","var(--color-text)"),a(u,"stroke","var(--color-text)"),a(u,"xmlns","http://www.w3.org/2000/svg"),a(u,"width","100%"),a(u,"height","100%"),a(n,"title","Surrender"),a(n,"data-toolbar-pos","1"),n.disabled=h=l[1]||l[2],a(n,"aria-disabled",_=l[1]||l[2]),a(n,"class","svelte-1vtr7qa"),a(r,"data-toolbar-size",k=l[1]||l[2]?0:2),a(r,"data-toolbar-direction","horizontal"),a(r,"role","toolbar"),a(r,"aria-controls","game-board"),a(r,"aria-label","extra game controls"),a(r,"class","controls svelte-1vtr7qa")},m(v,w){P(v,r,w),p(r,e),p(e,t),p(t,o),p(r,c),p(r,n),p(n,u),p(u,f),l[10](r),b||(M=[Z(e,"click",l[6]),Z(e,"keydown",l[7]),Z(n,"click",l[8]),Z(n,"keydown",l[9])],b=!0)},p(v,[w]){w&6&&s!==(s=v[1]||v[2])&&(e.disabled=s),w&6&&i!==(i=v[1]||v[2])&&a(e,"aria-disabled",i),w&6&&h!==(h=v[1]||v[2])&&(n.disabled=h),w&6&&_!==(_=v[1]||v[2])&&a(n,"aria-disabled",_),w&6&&k!==(k=v[1]||v[2]?0:2)&&a(r,"data-toolbar-size",k)},i:J,o:J,d(v){v&&m(r),l[10](null),b=!1,it(M)}}}function Sr(l,r,e){let t,o,s,i,c;D(l,ke,b=>e(3,o=b)),D(l,be,b=>e(4,s=b)),D(l,Se,b=>e(5,i=b)),D(l,Ae,b=>e(2,c=b));let n;const u=()=>{t||c||at.set(!0)},f=b=>De(b,n),h=()=>{t||c||Ne.set("surrender")},_=b=>De(b,n);function k(b){ut[b?"unshift":"push"](()=>{n=b,e(0,n)})}return l.$$.update=()=>{l.$$.dirty&56&&e(1,t=i&&o==="daily"||s&&o==="freeplay")},[n,t,c,o,s,i,u,f,h,_,k]}class Hr extends Ce{constructor(r){super(),Ve(this,r,Sr,Br,me,{})}}function kt(l,r,e){const t=l.slice();return t[45]=r[e],t}function yt(l,r,e){var f;const t=l.slice();t[48]=r[e];const o=(f=t[0].current[t[45]])==null?void 0:f[t[48]];t[49]=o;const s=t[49]===0;t[50]=s;const i=t[49]===1;t[51]=i;const c=t[49]===2;t[52]=c;const n=t[11](t[45],t[48]);t[53]=n;const u=t[7]&&t[45]===t[5]&&t[48]===t[6];return t[54]=u,t}function wt(l,r,e){const t=l.slice();return t[45]=r[e],t}function zt(l,r,e){var c,n,u;const t=l.slice();t[48]=r[e];const o=((c=t[0].end[t[45]])==null?void 0:c[t[48]])===0;t[50]=o;const s=((n=t[0].end[t[45]])==null?void 0:n[t[48]])===1;t[51]=s;const i=((u=t[0].end[t[45]])==null?void 0:u[t[48]])===2;return t[52]=i,t}function Dr(l){let r,e,t,o,s,i,c,n=[],u=new Map,f,h,_,k,b,M,v,w,L=[],I=new Map,S,F,y,H,q;r=new nr({});let z=ye(Array.from(Array(ee).keys()));const C=d=>d[45];for(let d=0;d<z.length;d+=1){let E=wt(l,z,d),N=C(E);u.set(N,n[d]=Et(N,E))}const O=[Fr,Nr],R=[];function j(d,E){return d[4]==="daily"?0:1}h=j(l),_=R[h]=O[h](l),b=new wr({});let re=ye(Array.from(Array(ee).keys()));const W=d=>d[45];for(let d=0;d<re.length;d+=1){let E=kt(l,re,d),N=W(E);I.set(N,L[d]=Vt(N,E))}F=new Hr({});let V=(l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")&&It();return{c(){ze(r.$$.fragment),e=U(),t=A("div"),o=A("div"),s=U(),i=A("div"),c=A("div");for(let d=0;d<n.length;d+=1)n[d].c();f=U(),_.c(),k=U(),ze(b.$$.fragment),M=U(),v=A("div"),w=A("div");for(let d=0;d<L.length;d+=1)L[d].c();S=U(),ze(F.$$.fragment),y=U(),H=A("div"),V&&V.c(),this.h()},l(d){Me(r.$$.fragment,d),e=G(d),t=B(d,"DIV",{class:!0});var E=T(t);o=B(E,"DIV",{role:!0,class:!0}),T(o).forEach(m),s=G(E),i=B(E,"DIV",{role:!0,"aria-label":!0,class:!0});var N=T(i);c=B(N,"DIV",{role:!0,class:!0,"aria-label":!0});var ie=T(c);for(let te=0;te<n.length;te+=1)n[te].l(ie);ie.forEach(m),N.forEach(m),f=G(E),_.l(E),E.forEach(m),k=G(d),Me(b.$$.fragment,d),M=G(d),v=B(d,"DIV",{role:!0,"aria-label":!0,"aria-live":!0,class:!0});var fe=T(v);w=B(fe,"DIV",{"data-table-rows":!0,"data-table-cols":!0,class:!0,id:!0,role:!0,"aria-label":!0});var _e=T(w);for(let te=0;te<L.length;te+=1)L[te].l(_e);_e.forEach(m),fe.forEach(m),S=G(d),Me(F.$$.fragment,d),y=G(d),H=B(d,"DIV",{class:!0,"aria-live":!0});var pe=T(H);V&&V.l(pe),pe.forEach(m),this.h()},h(){a(o,"role","presentation"),a(o,"class","controls-placeholder svelte-1dicv9w"),a(c,"role","table"),a(c,"class","board reference-board svelte-1dicv9w"),a(c,"aria-label","reference game board"),a(i,"role","region"),a(i,"aria-label","end state of game board"),a(i,"class","region-container svelte-1dicv9w"),a(t,"class","upper-region-container svelte-1dicv9w"),a(w,"data-table-rows",ee),a(w,"data-table-cols",ee),a(w,"class","board game-board"),a(w,"id","game-board"),a(w,"role","grid"),a(w,"aria-label","game board"),a(v,"role","region"),a(v,"aria-label","playing area"),a(v,"aria-live","off"),a(v,"class","region-container svelte-1dicv9w"),a(H,"class","region-container svelte-1dicv9w"),a(H,"aria-live","polite")},m(d,E){Ee(r,d,E),P(d,e,E),P(d,t,E),p(t,o),p(t,s),p(t,i),p(i,c);for(let N=0;N<n.length;N+=1)n[N]&&n[N].m(c,null);p(t,f),R[h].m(t,null),P(d,k,E),Ee(b,d,E),P(d,M,E),P(d,v,E),p(v,w);for(let N=0;N<L.length;N+=1)L[N]&&L[N].m(w,null);l[35](w),P(d,S,E),Ee(F,d,E),P(d,y,E),P(d,H,E),V&&V.m(H,null),q=!0},p(d,E){E[0]&1&&(z=ye(Array.from(Array(ee).keys())),n=Qe(n,E,C,1,d,z,u,c,Ze,Et,null,wt));let N=h;h=j(d),h!==N&&(We(),$(R[N],1,1,()=>{R[N]=null}),qe(),_=R[h],_||(_=R[h]=O[h](d),_.c()),K(_,1),_.m(t,null)),E[0]&12283&&(re=ye(Array.from(Array(ee).keys())),L=Qe(L,E,W,1,d,re,I,w,Ze,Vt,null,kt)),d[8]&&d[4]==="daily"||d[10]&&d[4]==="freeplay"?V?E[0]&1296&&K(V,1):(V=It(),V.c(),K(V,1),V.m(H,null)):V&&(We(),$(V,1,1,()=>{V=null}),qe())},i(d){q||(K(r.$$.fragment,d),K(_),K(b.$$.fragment,d),K(F.$$.fragment,d),K(V),q=!0)},o(d){$(r.$$.fragment,d),$(_),$(b.$$.fragment,d),$(F.$$.fragment,d),$(V),q=!1},d(d){d&&(m(e),m(t),m(k),m(M),m(v),m(S),m(y),m(H)),Te(r,d);for(let E=0;E<n.length;E+=1)n[E].d();R[h].d(),Te(b,d);for(let E=0;E<L.length;E+=1)L[E].d();l[35](null),Te(F,d),V&&V.d()}}}function Pr(l){let r,e="<p>Loading...</p>";return{c(){r=A("div"),r.innerHTML=e,this.h()},l(t){r=B(t,"DIV",{class:!0,"data-svelte-h":!0}),we(r)!=="svelte-kqmxoz"&&(r.innerHTML=e),this.h()},h(){a(r,"class","loading")},m(t,o){P(t,r,o)},p:J,i:J,o:J,d(t){t&&m(r)}}}function Mt(l,r){let e,t;return{key:l,first:null,c(){e=A("div"),this.h()},l(o){e=B(o,"DIV",{class:!0,role:!0,"aria-label":!0}),T(e).forEach(m),this.h()},h(){a(e,"class","tile"),a(e,"role","cell"),a(e,"aria-label",t=`${r[50]===!0?"color 1":r[51]===!0?"color 2":"color 3"}`),Q(e,"color1",r[50]),Q(e,"color2",r[51]),Q(e,"color3",r[52]),this.first=e},m(o,s){P(o,e,s)},p(o,s){r=o,s[0]&1&&t!==(t=`${r[50]===!0?"color 1":r[51]===!0?"color 2":"color 3"}`)&&a(e,"aria-label",t),s[0]&1&&Q(e,"color1",r[50]),s[0]&1&&Q(e,"color2",r[51]),s[0]&1&&Q(e,"color3",r[52])},d(o){o&&m(e)}}}function Et(l,r){let e,t=[],o=new Map,s,i=ye(Array.from(Array(ee).keys()));const c=n=>n[48];for(let n=0;n<i.length;n+=1){let u=zt(r,i,n),f=c(u);o.set(f,t[n]=Mt(f,u))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();s=U(),this.h()},l(n){e=B(n,"DIV",{role:!0,class:!0});var u=T(e);for(let f=0;f<t.length;f+=1)t[f].l(u);s=G(u),u.forEach(m),this.h()},h(){a(e,"role","row"),a(e,"class","row"),ct(e,"--numColumns",ee),this.first=e},m(n,u){P(n,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);p(e,s)},p(n,u){r=n,u[0]&1&&(i=ye(Array.from(Array(ee).keys())),t=Qe(t,u,c,1,r,i,o,e,Ze,Mt,s,zt))},d(n){n&&m(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Nr(l){let r,e;return r=new tr({}),{c(){ze(r.$$.fragment)},l(t){Me(r.$$.fragment,t)},m(t,o){Ee(r,t,o),e=!0},i(t){e||(K(r.$$.fragment,t),e=!0)},o(t){$(r.$$.fragment,t),e=!1},d(t){Te(r,t)}}}function Fr(l){let r;return{c(){r=A("div"),this.h()},l(e){r=B(e,"DIV",{role:!0,class:!0}),T(r).forEach(m),this.h()},h(){a(r,"role","presentation"),a(r,"class","controls-placeholder svelte-1dicv9w")},m(e,t){P(e,r,t)},i:J,o:J,d(e){e&&m(r)}}}function Tt(l){let r,e,t,o,s,i,c,n;function u(){return l[32](l[45],l[48])}function f(){return l[33](l[45],l[48])}return{c(){r=A("div"),e=A("button"),this.h()},l(h){r=B(h,"DIV",{class:!0});var _=T(r);e=B(_,"BUTTON",{"data-table-row":!0,"data-table-col":!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-disabled":!0,class:!0}),T(e).forEach(m),_.forEach(m),this.h()},h(){a(e,"data-table-row",l[45]),a(e,"data-table-col",l[48]),a(e,"data-testid","row"+l[45]+"-col"+l[48]),a(e,"role","gridcell"),a(e,"aria-label",t=`${l[50]===!0?"color 1":l[51]===!0?"color 2":"color 3"}`),e.disabled=o=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54],a(e,"aria-disabled",s=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54]),a(e,"class","svelte-1dicv9w"),Q(e,"color1",l[50]),Q(e,"color2",l[51]),Q(e,"color3",l[52]),Q(e,"not-hint",l[7]&&!l[54]),Q(e,"reduced-motion",l[9]),Q(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"),ct(e,"--animationDelay",`${(l[53]?0:At)+100*(l[48]+l[45]*(ee-1))}ms`),a(r,"class","tile svelte-1dicv9w")},m(h,_){P(h,r,_),p(r,e),c||(n=[Z(e,"click",u),Z(e,"touchstart",Bt(f)),Z(e,"keydown",l[34])],c=!0)},p(h,_){l=h,_[0]&1&&t!==(t=`${l[50]===!0?"color 1":l[51]===!0?"color 2":"color 3"}`)&&a(e,"aria-label",t),_[0]&1520&&o!==(o=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54])&&(e.disabled=o),_[0]&1520&&s!==(s=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54])&&a(e,"aria-disabled",s),_[0]&1&&Q(e,"color1",l[50]),_[0]&1&&Q(e,"color2",l[51]),_[0]&1&&Q(e,"color3",l[52]),_[0]&224&&Q(e,"not-hint",l[7]&&!l[54]),_[0]&512&&Q(e,"reduced-motion",l[9]),_[0]&1296&&Q(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")},i(h){h&&(i||Ut(()=>{i=Gt(e,l[12],{duration:At,direction:l[53],label:l[49]}),i.start()}))},o:J,d(h){h&&m(r),c=!1,it(n)}}}function Ct(l,r){let e,t=r[1],o,s=Tt(r);return{key:l,first:null,c(){e=ce(),s.c(),o=ce(),this.h()},l(i){e=ce(),s.l(i),o=ce(),this.h()},h(){this.first=e},m(i,c){P(i,e,c),s.m(i,c),P(i,o,c)},p(i,c){r=i,c[0]&2&&me(t,t=r[1])?(We(),$(s,1,1,J),qe(),s=Tt(r),s.c(),K(s,1),s.m(o.parentNode,o)):s.p(r,c)},d(i){i&&(m(e),m(o)),s.d(i)}}}function Vt(l,r){let e,t=[],o=new Map,s,i=ye(Array.from(Array(ee).keys()));const c=n=>n[48];for(let n=0;n<i.length;n+=1){let u=yt(r,i,n),f=c(u);o.set(f,t[n]=Ct(f,u))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();s=U(),this.h()},l(n){e=B(n,"DIV",{role:!0,class:!0});var u=T(e);for(let f=0;f<t.length;f+=1)t[f].l(u);s=G(u),u.forEach(m),this.h()},h(){a(e,"role","row"),a(e,"class","row"),ct(e,"--numColumns",ee),this.first=e},m(n,u){P(n,e,u);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);p(e,s)},p(n,u){r=n,u[0]&12283&&(i=ye(Array.from(Array(ee).keys())),t=Qe(t,u,c,1,r,i,o,e,Ze,Ct,s,yt))},d(n){n&&m(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function It(l){let r,e;return r=new Ar({}),{c(){ze(r.$$.fragment)},l(t){Me(r.$$.fragment,t)},m(t,o){Ee(r,t,o),e=!0},i(t){e||(K(r.$$.fragment,t),e=!0)},o(t){$(r.$$.fragment,t),e=!1},d(t){Te(r,t)}}}function Rr(l){let r,e,t,o,s,i;const c=[Pr,Dr],n=[];function u(f,h){return f[2]?1:0}return t=u(l),o=n[t]=c[t](l),{c(){r=A("meta"),e=U(),o.c(),s=ce(),this.h()},l(f){const h=Wt("svelte-1tmfi4l",document.head);r=B(h,"META",{name:!0,content:!0}),h.forEach(m),e=G(f),o.l(f),s=ce(),this.h()},h(){document.title="Flippin",a(r,"name","description"),a(r,"content","A tile flipping game written in SvelteKit")},m(f,h){p(document.head,r),P(f,e,h),n[t].m(f,h),P(f,s,h),i=!0},p(f,h){let _=t;t=u(f),t===_?n[t].p(f,h):(We(),$(n[_],1,1,()=>{n[_]=null}),qe(),o=n[t],o?o.p(f,h):(o=n[t]=c[t](f),o.c()),K(o,1),o.m(s.parentNode,s))},i(f){i||(K(o),i=!0)},o(f){$(o),i=!1},d(f){f&&(m(e),m(s)),m(r),n[t].d(f)}}}const At=1e3;function Lr(l,r,e){let t,o,s,i,c,n,u,f,h,_,k,b,M,v,w;D(l,ke,g=>e(4,s=g)),D(l,Pe,g=>e(40,i=g)),D(l,ge,g=>e(25,c=g)),D(l,_t,g=>e(26,n=g)),D(l,pt,g=>e(27,u=g)),D(l,at,g=>e(28,f=g)),D(l,Ye,g=>e(29,h=g)),D(l,Ae,g=>e(7,_=g)),D(l,Se,g=>e(8,k=g)),D(l,rt,g=>e(30,b=g)),D(l,Be,g=>e(31,M=g)),D(l,ot,g=>e(9,v=g)),D(l,be,g=>e(10,w=g));function L(g,X){return F>=0&&y>=0?g===F-1&&X===y?"up":g===F&&X===y+1?"right":g===F+1&&X===y?"down":g===F&&X===y-1?"left":null:null}function I(g,X){const{duration:x,direction:ue,label:he}=X;if(Y(ot)||!ue)return{duration:0,css:()=>""};const Ie=`var(--color-theme-${he===0?3:he})`,Rt=`var(--color-theme-${he+1})`;return{duration:x,css:Lt=>{const Re=er(Lt);let Le="";switch(ue){case"right":Le=`rotateY(${360*Re}deg)`;break;case"left":Le=`rotateY(${-360*Re}deg)`;break;case"up":Le=`rotateX(${360*Re}deg)`;break;case"down":Le=`rotateX(${-360*Re}deg)`;break}return`
					transform: ${Le};
					background: ${Re<.75?Ie:Rt}`}}}let S,F=-1,y=-1,H=!1,q=!1,z=!0,C=0,O=0,R=0,j=0,re=0,W=0,V=[],d=-1,E=-1,N=!1,ie=!1,fe=!1;function _e(){if(t||Be.set(Jt),o||rt.set(xt),(t==null?void 0:t.lastGame)===Y(ve)){ge.set((t==null?void 0:t.curTime)??0),e(17,C=(t==null?void 0:t.moveCount)??0),e(18,R=(t==null?void 0:t.resetCount)??0),e(20,re=(t==null?void 0:t.hintCount)??0),e(24,ie=(t==null?void 0:t.hasSurrendered)??!1);const g=(t==null?void 0:t.curBoard)??"";e(0,S=new Oe(g))}else e(0,S=new Oe),ge.set(0),Be.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:Y(ve),moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1}));e(16,z=!0),Se.set(pe(S.current,S.end))}Ke(()=>{_e(),e(2,q=!0)});const pe=(g,X)=>g.length===X.length&&g.every((x,ue)=>x.length===X[ue].length&&x.every((he,Ie)=>he===X[ue][Ie]));function te(){z&&q?Be.update(()=>({curTime:Y(ge),curBoard:S.serializeCurrent(),lastGame:Y(ve),moveCount:C,resetCount:R,hintCount:re,hasSurrendered:ie})):z||Ge.update(g=>({curTime:Y(He),curBoard:S.serializeCurrent(),lastGame:g.lastGame,moveCount:O,resetCount:j,hintCount:W,hasSurrendered:fe}))}function $e(g,X){k&&s==="daily"||(s==="daily"?e(17,C++,C):O++,_?(Ae.set(!1),e(23,N=!0)):N&&e(23,N=!1),S.update(g,X),e(14,F=g),e(15,y=X),e(1,H=!H),te(),pe(S.current,S.end)&&(z?(Se.set(!0),rt.update(x=>{const ue=Y(ge)/1e3,he=x.distribution,Ie=Math.min(Math.floor(ue/60),xe/60);return he[Ie]+=1,{wonGames:x.wonGames+1,fastestGame:!x.fastestGame||ue<x.fastestGame?ue:x.fastestGame,fewestMoves:!x.fewestMoves||C<x.fewestMoves?C:x.fewestMoves,distribution:he}})):be.set(!0)))}function Ht(g){g==="daily"&&!z?(Ae.set(!1),e(23,N=!1),e(14,F=-1),e(15,y=-1),e(1,H=!H),_e()):g==="freeplay"&&z&&(Ae.set(!1),e(23,N=!1),e(24,ie=!1),be.set(!1),O=0,e(19,j=0),e(21,W=0),fe=!1,He.set(0),Ge.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:0,moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1})),e(0,S=new Oe("",i??Xe)),e(16,z=!1))}let Fe;const Dt=(g,X)=>$e(g,X),Pt=(g,X)=>$e(g,X),Nt=g=>$t(g,Fe);function Ft(g){ut[g?"unshift":"push"](()=>{Fe=g,e(3,Fe)})}return l.$$.update=()=>{if(l.$$.dirty[1]&1&&(t=M),l.$$.dirty[0]&1073741824&&(o=b),l.$$.dirty[0]&537722881&&h&&(Ye.set(!1),Ae.set(!1),e(23,N=!1),z?(e(18,R++,R),e(0,S=new Oe)):(e(0,S=new Oe("",Y(Pe)??Xe)),Y(be)||Y(bt)?(be.set(!1),bt.set(!1),O=0,e(19,j=0),e(21,W=0),fe=!1,He.set(0),lt.set(!0),Ge.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:0,moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1}))):e(19,j++,j)),e(14,F=-1),e(15,y=-1),te()),l.$$.dirty[0]&134283267&&u&&(pt.set(!1),e(0,S.current=S.end,S),z?(Se.set(!0),e(24,ie=!0)):(be.set(!0),fe=!0),e(14,F=-1),e(15,y=-1),e(1,H=!H),te()),l.$$.dirty[0]&284229633&&f){at.set(!1),Ae.set(!0),N||e(22,V=st(S.serializeCurrent(),S.serializeEnd()));const g=[],X=V.reduce((ue,he,Ie)=>(he>0&&ue.push(Ie),ue),g),x=X[Math.floor(Math.random()*X.length)];e(5,d=Math.floor(x/ee)),e(6,E=x%ee),e(22,V[x]--,V),e(14,F=-1),e(15,y=-1),z?e(20,re++,re):e(21,W++,W),te()}l.$$.dirty[0]&67158024&&n&&(async()=>{var g;await qt(),_t.set(!1),(g=Fe.querySelector(`[data-table-row="${F}"][data-table-col="${y}"]`))==null||g.focus()})(),l.$$.dirty[0]&51838980&&z&&q&&Be.update(g=>({curTime:c,curBoard:g.curBoard,lastGame:Y(ve),moveCount:C,resetCount:R,hintCount:re,hasSurrendered:ie})),l.$$.dirty[0]&16&&Ht(s)},[S,H,q,Fe,s,d,E,_,k,v,w,L,I,$e,F,y,z,C,R,j,re,W,V,N,ie,c,n,u,f,h,b,M,Dt,Pt,Nt,Ft]}class Ur extends Ce{constructor(r){super(),Ve(this,r,Lr,Rr,me,{},null,[-1,-1])}}export{Ur as component};
