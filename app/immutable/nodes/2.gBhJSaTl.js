import{a as te,e as B,o as Y,b as N,c as H,d as T,p as K,h as m,f as O,j as s,k as C,l as M,n as j,m as A,t as ge,q as ke,S as pt,y as ye,v as J,x as Fe,T as at,g as ae,U as P,r as ot,z as st,V as W,W as L,X as vt,B as bt,u as qe,E as gt,Y as kt}from"../chunks/scheduler.BZjK8bPV.js";import{S as oe,i as se,a as q,g as ze,t as G,c as Ce,b as _e,d as pe,m as ve,e as be,f as yt}from"../chunks/index.BvlOJt4R.js";import{f as Ie,d as nt,g as re,a as Be,c as Re,h as me,b as x,e as Te,i as U,j as Ne,t as De,m as Oe,k as it,n as we,s as Le,u as wt,l as Mt,o as Tt,p as Et,q as We,r as Vt,v as Se,w as le,x as He,y as F,z as Pe,A as Ae,B as Me,C as zt,G as he,D as ee,E as Ee,F as Ct,H as Bt,I as Ht,J as Ue,K as Ve}from"../chunks/duration.DacjEN2q.js";const At=(l,{min_size:r=10,max_size:e=100}={min_size:10,max_size:100})=>{const t=()=>{l.parentElement&&Dt(l,l.parentElement,r,e)},o=new ResizeObserver(t);return o.observe(l==null?void 0:l.parentElement),{destroy(){o.disconnect()}}};function It({clientWidth:l,clientHeight:r,scrollWidth:e,scrollHeight:t}){return e>l||t>r}function Dt(l,r,e,t){let o=e,a=!1,u=e;for(l.style.fontSize=`${u}px`;!a&&o<t;)a=It(r),a||(l.style.fontSize=`${o}px`,o++);u=o-2,l.style.fontSize=`${u}px`}function Ge(l){let r,e,t,o,a;return{c(){r=B("div"),e=B("h1"),t=ge(l[0]),this.h()},l(u){r=H(u,"DIV",{class:!0});var f=T(r);e=H(f,"H1",{class:!0});var n=T(e);t=ke(n,l[0]),n.forEach(m),f.forEach(m),this.h()},h(){s(e,"class","svelte-2p64qv"),s(r,"class","subtitle-parent svelte-2p64qv")},m(u,f){C(u,r,f),M(r,e),M(e,t),o||(a=pt(At.call(null,e,{min_size:18,max_size:34})),o=!0)},p(u,f){f&1&&ye(t,u[0])},d(u){u&&m(r),o=!1,a()}}}function Lt(l){let r,e,t,o,a,u,f,n,i,c,h,p=l[0],k=Ge(l);return{c(){r=B("header"),e=B("div"),t=Y("svg"),o=Y("path"),a=Y("path"),u=Y("path"),f=Y("path"),n=Y("path"),i=Y("path"),c=Y("path"),h=N(),k.c(),this.h()},l(b){r=H(b,"HEADER",{role:!0,class:!0});var E=T(r);e=H(E,"DIV",{class:!0});var g=T(e);t=K(g,"svg",{viewBox:!0,fill:!0,xmlns:!0,role:!0,"aria-label":!0,class:!0});var w=T(t);o=K(w,"path",{d:!0,stroke:!0}),T(o).forEach(m),a=K(w,"path",{d:!0,stroke:!0}),T(a).forEach(m),u=K(w,"path",{d:!0,stroke:!0}),T(u).forEach(m),f=K(w,"path",{d:!0,stroke:!0}),T(f).forEach(m),n=K(w,"path",{d:!0,stroke:!0}),T(n).forEach(m),i=K(w,"path",{d:!0,stroke:!0}),T(i).forEach(m),c=K(w,"path",{d:!0,stroke:!0}),T(c).forEach(m),w.forEach(m),h=O(g),k.l(g),g.forEach(m),E.forEach(m),this.h()},h(){s(o,"d","M0 0.5 H5 M0.5 0 V5 M1.5 0 V5 M0 2.5 H5"),s(o,"stroke","var(--color-theme-1)"),s(a,"d","M6.5 0 V5 M7.5 0 V5 M6 4.5 H11"),s(a,"stroke","var(--color-theme-2)"),s(u,"d","M12 0.5 H17 M13.5 0 V5 M14.5 0 V5 M12 4.5 H17"),s(u,"stroke","var(--color-theme-3)"),s(f,"d","M18 0.5 H23 M18.5 0 V5 M19.5 0 V5 M22.5 0 V3 M18 2.5 H23"),s(f,"stroke","var(--color-theme-1)"),s(n,"d","M24 0.5 H29 M24.5 0 V5 M27.5 0 V3 M28.5 0 V3 M24 2.5 H29"),s(n,"stroke","var(--color-theme-2)"),s(i,"d","M30 0.5 H35 M32.5 0 V5 M33.5 0 V5 M30 4.5 H35"),s(i,"stroke","var(--color-theme-3)"),s(c,"d","M36.5 0 V5 M39.5 0 V5 M40.5 0 V5 M37 1.5 H38 M38 2.5 H39"),s(c,"stroke","var(--color-theme-1)"),s(t,"viewBox","0 0 41 5"),s(t,"fill","none"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"role","img"),s(t,"aria-label","Flippin logo"),s(t,"class","svelte-2p64qv"),s(e,"class","title-container svelte-2p64qv"),s(r,"role","banner"),s(r,"class","title")},m(b,E){C(b,r,E),M(r,e),M(e,t),M(t,o),M(t,a),M(t,u),M(t,f),M(t,n),M(t,i),M(t,c),M(e,h),k.m(e,null)},p(b,[E]){E&1&&te(p,p=b[0])?(k.d(1),k=Ge(b),k.c(),k.m(e,null)):k.p(b,E)},i:j,o:j,d(b){b&&m(r),k.d(b)}}}function St(l,r,e){let t,o,a,u,f;A(l,Ie,i=>e(1,o=i)),A(l,nt,i=>e(2,a=i)),A(l,re,i=>e(3,u=i)),A(l,Be,i=>e(4,f=i));function n(i){return i.startsWith(Re)?i.substring(Re.length):i}return l.$$.update=()=>{l.$$.dirty&30&&e(0,t=f==="daily"?`#${u}: ${a}`:n(o.title))},[t,o,a,u,f]}class Ft extends oe{constructor(r){super(),se(this,r,St,Lt,te,{})}}function qt(l){let r=l[2].format(De)+"",e;return{c(){e=ge(r)},l(t){e=ke(t,r)},m(t,o){C(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(De)+"")&&ye(e,r)},d(t){t&&m(e)}}}function Nt(l){let r;return{c(){r=ge(l[0])},l(e){r=ke(e,l[0])},m(e,t){C(e,r,t)},p(e,t){t&1&&ye(r,e[0])},d(e){e&&m(r)}}}function Ot(l){let r;function e(a,u){return a[1]&&a[0]?Nt:qt}let t=e(l),o=t(l);return{c(){o.c(),r=J()},l(a){o.l(a),r=J()},m(a,u){o.m(a,u),C(a,r,u)},p(a,[u]){t===(t=e(a))&&o?o.p(a,u):(o.d(1),o=t(a),o&&(o.c(),o.m(r.parentNode,r)))},i:j,o:j,d(a){a&&m(r),o.d(a)}}}function Rt(l,r,e){let t,o,a,u;A(l,me,h=>e(5,o=h)),A(l,x,h=>e(6,a=h)),A(l,Te,h=>e(7,u=h));let{interval:f}=r,{message:n}=r,i,c=!1;return Fe(()=>{e(4,i=setInterval(()=>{u===null&&(x.update(h=>h+1e3),a>=f*1e3&&(clearInterval(i),e(1,c=!0)))},1e3))}),U.extend(Ne),at(()=>{clearInterval(i)}),l.$$set=h=>{"interval"in h&&e(3,f=h.interval),"message"in h&&e(0,n=h.message)},l.$$.update=()=>{l.$$.dirty&64&&e(2,t=U.duration(a)),l.$$.dirty&48&&o&&clearInterval(i)},[n,c,t,f,i,o,a]}class Wt extends oe{constructor(r){super(),se(this,r,Rt,Ot,te,{interval:3,message:0})}}function je(l){let r,e;return r=new Wt({props:{interval:Oe,message:it}}),{c(){_e(r.$$.fragment)},l(t){pe(r.$$.fragment,t)},m(t,o){ve(r,t,o),e=!0},i(t){e||(q(r.$$.fragment,t),e=!0)},o(t){G(r.$$.fragment,t),e=!1},d(t){be(r,t)}}}function Pt(l){let r,e,t='<svg aria-hidden="true" viewBox="-2 -2 12 17" fill="none" stroke="var(--color-text)" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M0.5 4.5 A3.5 3.5 0 1 1 4 8 V9" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="4" cy="12" r="0.75" stroke-width="1.5"></circle></svg>',o,a,u=`<svg aria-hidden="true" viewBox="-3 -3 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><circle cx="0" cy="0" r="1"></circle><path d="
                M1.4979407787322998 -0.07850953936576843 L1.9972550868988037 -0.10466885566711426
                M0.38822856545448303 -1.4488887786865234 L0.517638087272644 -1.9318516254425049 
                M-1.2580000162124634 -0.8169616460800171 L-1.6773391962051392 -1.089273452758789
                M-1.165722131729126 0.94398432970047 L-1.5542904138565063 1.2586369514465332
                M0.5375528335571289 1.400375485420227 L0.7167364358901978 1.867156744003296
            "></path></svg>`,f,n,i,c,h='<svg aria-hidden="true" viewBox="-0.6 -0.5 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M1 2 V4 M2.5 1 V4 M4 3 V4"></path></svg>',p,k,b,E,g,w,S,I,V=l[0]==="daily"&&je();return{c(){r=B("div"),e=B("button"),e.innerHTML=t,o=N(),a=B("button"),a.innerHTML=u,f=N(),n=B("div"),V&&V.c(),i=N(),c=B("button"),c.innerHTML=h,p=N(),k=B("button"),b=Y("svg"),E=Y("path"),this.h()},l(y){r=H(y,"DIV",{"data-toolbar-size":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var d=T(r);e=H(d,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-mw9vy7"&&(e.innerHTML=t),o=O(d),a=H(d,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ae(a)!=="svelte-1dkmrrv"&&(a.innerHTML=u),f=O(d),n=H(d,"DIV",{role:!0,"aria-label":!0,class:!0});var v=T(n);V&&V.l(v),v.forEach(m),i=O(d),c=H(d,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ae(c)!=="svelte-wr6plk"&&(c.innerHTML=h),p=O(d),k=H(d,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var z=T(k);b=K(z,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,xmlns:!0,height:!0,width:!0});var Q=T(b);E=K(Q,"path",{d:!0}),T(E).forEach(m),Q.forEach(m),z.forEach(m),d.forEach(m),this.h()},h(){s(e,"title","How to play"),s(e,"data-toolbar-pos","0"),s(e,"class","svelte-1y5nl4x"),s(a,"title","Settings"),s(a,"data-toolbar-pos","1"),s(a,"class","svelte-1y5nl4x"),s(n,"role","timer"),s(n,"aria-label","game timer"),s(n,"class","timer-container svelte-1y5nl4x"),s(c,"title","Stats"),s(c,"data-toolbar-pos","2"),s(c,"class","svelte-1y5nl4x"),s(E,"d",`
                M-1.4142135381698608 -1.4142135381698608 
                A1.999999965771458 1.999999965771458 0 1 1 -1.4999996423721313 0.4999951720237732
                M-1.4142135381698608 -1.4142135381698608 L-0.4142089784145355 -1.4142135381698608
                M-1.4142135381698608 -1.4142135381698608 L-1.4142135381698608 -2.414217948913574
            `),s(b,"aria-hidden","true"),s(b,"viewBox","-3.75 -3.5 8 6.25"),s(b,"fill","none"),s(b,"stroke","var(--color-text)"),s(b,"stroke-linecap","round"),s(b,"xmlns","http://www.w3.org/2000/svg"),s(b,"height","100%"),s(b,"width","100%"),s(k,"title","Reset the board"),s(k,"data-toolbar-pos","3"),k.disabled=l[2],s(k,"aria-disabled",l[2]),s(k,"class","svelte-1y5nl4x"),s(r,"data-toolbar-size",g=l[2]?3:4),s(r,"role","toolbar"),s(r,"aria-controls","game-board"),s(r,"aria-label","game controls"),s(r,"class","controls svelte-1y5nl4x")},m(y,d){C(y,r,d),M(r,e),M(r,o),M(r,a),M(r,f),M(r,n),V&&V.m(n,null),M(r,i),M(r,c),M(r,p),M(r,k),M(k,b),M(b,E),l[12](r),w=!0,S||(I=[P(e,"click",l[4]),P(e,"keydown",l[5]),P(a,"click",l[6]),P(a,"keydown",l[7]),P(c,"click",l[8]),P(c,"keydown",l[9]),P(k,"click",l[10]),P(k,"keydown",l[11])],S=!0)},p(y,[d]){y[0]==="daily"?V?d&1&&q(V,1):(V=je(),V.c(),q(V,1),V.m(n,null)):V&&(ze(),G(V,1,1,()=>{V=null}),Ce()),(!w||d&4)&&(k.disabled=y[2]),(!w||d&4)&&s(k,"aria-disabled",y[2]),(!w||d&4&&g!==(g=y[2]?3:4))&&s(r,"data-toolbar-size",g)},i(y){w||(q(V),w=!0)},o(y){G(V),w=!1},d(y){y&&m(r),V&&V.d(),l[12](null),S=!1,ot(I)}}}function Ut(l,r,e){let t,o,a;A(l,Be,g=>e(0,o=g)),A(l,me,g=>e(3,a=g));let u;const f=()=>Te.set("tutorial"),n=g=>we(g,u),i=()=>Te.set("settings"),c=g=>we(g,u),h=()=>Te.set("stats"),p=g=>we(g,u),k=()=>{t||Le.set(!0)},b=g=>we(g,u);function E(g){st[g?"unshift":"push"](()=>{u=g,e(1,u)})}return l.$$.update=()=>{l.$$.dirty&9&&e(2,t=a&&o==="daily")},[o,u,t,a,f,n,i,c,h,p,k,b,E]}class Gt extends oe{constructor(r){super(),se(this,r,Ut,Pt,te,{})}}function jt(l){let r=l[2].format(We)+"",e;return{c(){e=ge(r)},l(t){e=ke(t,r)},m(t,o){C(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(We)+"")&&ye(e,r)},d(t){t&&m(e)}}}function Xt(l){let r,e;return{c(){r=B("a"),e=ge(l[0]),this.h()},l(t){r=H(t,"A",{"data-sveltekit-reload":!0,href:!0});var o=T(r);e=ke(o,l[0]),o.forEach(m),this.h()},h(){s(r,"data-sveltekit-reload",""),s(r,"href","/")},m(t,o){C(t,r,o),M(r,e)},p(t,o){o&1&&ye(e,t[0])},d(t){t&&m(r)}}}function Yt(l){let r;function e(a,u){return a[1]&&a[0]?Xt:jt}let t=e(l),o=t(l);return{c(){o.c(),r=J()},l(a){o.l(a),r=J()},m(a,u){o.m(a,u),C(a,r,u)},p(a,[u]){t===(t=e(a))&&o?o.p(a,u):(o.d(1),o=t(a),o&&(o.c(),o.m(r.parentNode,r)))},i:j,o:j,d(a){a&&m(r),o.d(a)}}}function Kt(l,r,e){let t,{message:o}=r;U.extend(wt),U.extend(Mt),U.tz.setDefault(Tt);let a,u=!1;const f=U.tz().endOf("d");let n=f.diff(U.tz());return U.extend(Ne),Fe(()=>{if(n<=0||W(re)<Et()){e(1,u=!0);return}a=setInterval(()=>{e(3,n=f.diff(U.tz())),n<=0&&e(1,u=!0)},1e3)}),at(()=>{clearInterval(a)}),l.$$set=i=>{"message"in i&&e(0,o=i.message)},l.$$.update=()=>{l.$$.dirty&8&&e(2,t=U.duration(n))},[o,u,t,n]}class Jt extends oe{constructor(r){super(),se(this,r,Kt,Yt,te,{message:0})}}function Xe(l){let r,e="Share",t,o;return{c(){r=B("button"),r.textContent=e,this.h()},l(a){r=H(a,"BUTTON",{title:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-omeyes"&&(r.textContent=e),this.h()},h(){s(r,"title","Copy results to clipboard"),s(r,"aria-label","copy game results to clipboard"),s(r,"class","svelte-v24ap7")},m(a,u){C(a,r,u),t||(o=P(r,"click",l[2]),t=!0)},p:j,d(a){a&&m(r),t=!1,o()}}}function Zt(l){let r,e,t="<strong>Congratulations!</strong>",o,a,u,f,n;u=new Jt({props:{message:Vt}});let i=l[1]==="daily"&&Xe(l);return{c(){r=B("div"),e=B("div"),e.innerHTML=t,o=N(),a=B("div"),_e(u.$$.fragment),f=N(),i&&i.c(),this.h()},l(c){r=H(c,"DIV",{role:!0,"aria-label":!0,class:!0});var h=T(r);e=H(h,"DIV",{role:!0,class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1bvq731"&&(e.innerHTML=t),o=O(h),a=H(h,"DIV",{role:!0,"aria-label":!0,class:!0});var p=T(a);pe(u.$$.fragment,p),p.forEach(m),f=O(h),i&&i.l(h),h.forEach(m),this.h()},h(){s(e,"role","presentation"),s(e,"class","congratulations svelte-v24ap7"),s(a,"role","timer"),s(a,"aria-label","countdown to next daily puzzle"),s(a,"class","countdown-container svelte-v24ap7"),s(r,"role","region"),s(r,"aria-label","post-game info"),s(r,"class","game-over-block svelte-v24ap7"),L(r,"reduced-motion",l[0])},m(c,h){C(c,r,h),M(r,e),M(r,o),M(r,a),ve(u,a,null),M(r,f),i&&i.m(r,null),n=!0},p(c,[h]){c[1]==="daily"?i?i.p(c,h):(i=Xe(c),i.c(),i.m(r,null)):i&&(i.d(1),i=null),(!n||h&1)&&L(r,"reduced-motion",c[0])},i(c){n||(q(u.$$.fragment,c),n=!0)},o(c){G(u.$$.fragment,c),n=!1},d(c){c&&m(r),be(u),i&&i.d()}}}function Qt(l,r,e){let t,o;A(l,Se,f=>e(0,t=f)),A(l,Be,f=>e(1,o=f)),U.extend(Ne);function a(){const f=W(x);return f/1e3>=Oe?-1:f}function u(){const f=`Flippin #${W(re)}: ${W(nt)}`,n="https://flippin-dev.github.io/flippin/",i=a(),c=i>0?U.duration(i).format(De):it,{moveCount:h,resetCount:p,curBoard:k}=W(le);if(k===null){He("Could not find board image",{theme:{"--toastBackground":"var(--error-color)"}});return}let b="";for(let g=0;g<k.length;g++)g%F===0&&g!==0&&(b+=`
`),b+=k[g]==="0"?"🟥":k[g]==="1"?"🟩":"🟦";let E=`${f}
${b}
Time: ${c}
Moves: ${h??""}
Resets: ${p??""}

${n}`;navigator.clipboard.writeText(E).then(()=>He("Results copied to clipboard"),()=>He("Could not complete action",{theme:{"--toastBackground":"var(--error-color)"}}))}return[t,o,u]}class $t extends oe{constructor(r){super(),se(this,r,Qt,Zt,te,{})}}function Ye(l,r,e){const t=l.slice();return t[32]=r[e],t}function Ke(l,r,e){var i;const t=l.slice();t[35]=r[e];const o=(i=t[3].current[t[32]])==null?void 0:i[t[35]];t[36]=o;const a=t[36]===0;t[37]=a;const u=t[36]===1;t[38]=u;const f=t[36]===2;t[39]=f;const n=t[8](t[32],t[35]);return t[40]=n,t}function Je(l,r,e){const t=l.slice();return t[32]=r[e],t}function Ze(l,r,e){var f,n,i;const t=l.slice();t[35]=r[e];const o=((f=t[3].end[t[32]])==null?void 0:f[t[35]])===0;t[37]=o;const a=((n=t[3].end[t[32]])==null?void 0:n[t[35]])===1;t[38]=a;const u=((i=t[3].end[t[32]])==null?void 0:i[t[35]])===2;return t[39]=u,t}function xt(l){let r,e,t,o,a=[],u=new Map,f,n,i,c,h,p=[],k=new Map,b,E,g;r=new Ft({});let w=ee(Array.from(Array(F).keys()));const S=d=>d[32];for(let d=0;d<w.length;d+=1){let v=Je(l,w,d),z=S(v);u.set(z,a[d]=$e(z,v))}n=new Gt({});let I=ee(Array.from(Array(F).keys()));const V=d=>d[32];for(let d=0;d<I.length;d+=1){let v=Ye(l,I,d),z=V(v);k.set(z,p[d]=tt(z,v))}let y=(l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay")&&rt();return{c(){_e(r.$$.fragment),e=N(),t=B("div"),o=B("div");for(let d=0;d<a.length;d+=1)a[d].c();f=N(),_e(n.$$.fragment),i=N(),c=B("div"),h=B("div");for(let d=0;d<p.length;d+=1)p[d].c();b=N(),E=B("div"),y&&y.c(),this.h()},l(d){pe(r.$$.fragment,d),e=O(d),t=H(d,"DIV",{role:!0,"aria-label":!0,class:!0});var v=T(t);o=H(v,"DIV",{role:!0,class:!0,"aria-label":!0});var z=T(o);for(let X=0;X<a.length;X+=1)a[X].l(z);z.forEach(m),v.forEach(m),f=O(d),pe(n.$$.fragment,d),i=O(d),c=H(d,"DIV",{role:!0,"aria-label":!0,"aria-live":!0,class:!0});var Q=T(c);h=H(Q,"DIV",{"data-table-rows":!0,"data-table-cols":!0,class:!0,id:!0,role:!0,"aria-label":!0});var ne=T(h);for(let X=0;X<p.length;X+=1)p[X].l(ne);ne.forEach(m),Q.forEach(m),b=O(d),E=H(d,"DIV",{class:!0,"aria-live":!0});var ie=T(E);y&&y.l(ie),ie.forEach(m),this.h()},h(){s(o,"role","table"),s(o,"class","board reference-board svelte-ddfrhh"),s(o,"aria-label","reference game board"),s(t,"role","region"),s(t,"aria-label","end state of game board"),s(t,"class","region-container svelte-ddfrhh"),s(h,"data-table-rows",F),s(h,"data-table-cols",F),s(h,"class","board game-board"),s(h,"id","game-board"),s(h,"role","grid"),s(h,"aria-label","game board"),s(c,"role","region"),s(c,"aria-label","playing area"),s(c,"aria-live","off"),s(c,"class","region-container svelte-ddfrhh"),s(E,"class","region-container svelte-ddfrhh"),s(E,"aria-live","polite")},m(d,v){ve(r,d,v),C(d,e,v),C(d,t,v),M(t,o);for(let z=0;z<a.length;z+=1)a[z]&&a[z].m(o,null);C(d,f,v),ve(n,d,v),C(d,i,v),C(d,c,v),M(c,h);for(let z=0;z<p.length;z+=1)p[z]&&p[z].m(h,null);l[24](h),C(d,b,v),C(d,E,v),y&&y.m(E,null),g=!0},p(d,v){v[0]&8&&(w=ee(Array.from(Array(F).keys())),a=Ee(a,v,S,1,d,w,u,o,Ve,$e,null,Je)),v[0]&1534&&(I=ee(Array.from(Array(F).keys())),p=Ee(p,v,V,1,d,I,k,h,Ve,tt,null,Ye)),d[5]&&d[2]==="daily"||d[7]&&d[2]==="freeplay"?y?v[0]&164&&q(y,1):(y=rt(),y.c(),q(y,1),y.m(E,null)):y&&(ze(),G(y,1,1,()=>{y=null}),Ce())},i(d){g||(q(r.$$.fragment,d),q(n.$$.fragment,d),q(y),g=!0)},o(d){G(r.$$.fragment,d),G(n.$$.fragment,d),G(y),g=!1},d(d){d&&(m(e),m(t),m(f),m(i),m(c),m(b),m(E)),be(r,d);for(let v=0;v<a.length;v+=1)a[v].d();be(n,d);for(let v=0;v<p.length;v+=1)p[v].d();l[24](null),y&&y.d()}}}function er(l){let r,e="<p>Loading...</p>";return{c(){r=B("div"),r.innerHTML=e,this.h()},l(t){r=H(t,"DIV",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-kqmxoz"&&(r.innerHTML=e),this.h()},h(){s(r,"class","loading")},m(t,o){C(t,r,o)},p:j,i:j,o:j,d(t){t&&m(r)}}}function Qe(l,r){let e,t;return{key:l,first:null,c(){e=B("div"),this.h()},l(o){e=H(o,"DIV",{class:!0,role:!0,"aria-label":!0}),T(e).forEach(m),this.h()},h(){s(e,"class","tile"),s(e,"role","cell"),s(e,"aria-label",t=`${r[37]===!0?"color 1":r[38]===!0?"color 2":"color 3"}`),L(e,"color1",r[37]),L(e,"color2",r[38]),L(e,"color3",r[39]),this.first=e},m(o,a){C(o,e,a)},p(o,a){r=o,a[0]&8&&t!==(t=`${r[37]===!0?"color 1":r[38]===!0?"color 2":"color 3"}`)&&s(e,"aria-label",t),a[0]&8&&L(e,"color1",r[37]),a[0]&8&&L(e,"color2",r[38]),a[0]&8&&L(e,"color3",r[39])},d(o){o&&m(e)}}}function $e(l,r){let e,t=[],o=new Map,a,u=ee(Array.from(Array(F).keys()));const f=n=>n[35];for(let n=0;n<u.length;n+=1){let i=Ze(r,u,n),c=f(i);o.set(c,t[n]=Qe(c,i))}return{key:l,first:null,c(){e=B("div");for(let n=0;n<t.length;n+=1)t[n].c();a=N(),this.h()},l(n){e=H(n,"DIV",{role:!0,class:!0});var i=T(e);for(let c=0;c<t.length;c+=1)t[c].l(i);a=O(i),i.forEach(m),this.h()},h(){s(e,"role","row"),s(e,"class","row"),qe(e,"--numColumns",F),this.first=e},m(n,i){C(n,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);M(e,a)},p(n,i){r=n,i[0]&8&&(u=ee(Array.from(Array(F).keys())),t=Ee(t,i,f,1,r,u,o,e,Ve,Qe,a,Ze))},d(n){n&&m(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function xe(l){let r,e,t,o,a,u,f,n;function i(){return l[21](l[32],l[35])}function c(){return l[22](l[32],l[35])}return{c(){r=B("div"),e=B("button"),this.h()},l(h){r=H(h,"DIV",{class:!0});var p=T(r);e=H(p,"BUTTON",{"data-table-row":!0,"data-table-col":!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-disabled":!0,class:!0}),T(e).forEach(m),p.forEach(m),this.h()},h(){s(e,"data-table-row",l[32]),s(e,"data-table-col",l[35]),s(e,"data-testid","row"+l[32]+"-col"+l[35]),s(e,"role","gridcell"),s(e,"aria-label",t=`${l[37]===!0?"color 1":l[38]===!0?"color 2":"color 3"}`),e.disabled=o=l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay",s(e,"aria-disabled",a=l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay"),s(e,"class","svelte-ddfrhh"),L(e,"color1",l[37]),L(e,"color2",l[38]),L(e,"color3",l[39]),L(e,"reduced-motion",l[6]),L(e,"won",l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay"),qe(e,"--animationDelay",`${(l[40]?0:lt)+100*(l[35]+l[32]*(F-1))}ms`),s(r,"class","tile svelte-ddfrhh")},m(h,p){C(h,r,p),M(r,e),f||(n=[P(e,"click",i),P(e,"touchstart",kt(c)),P(e,"keydown",l[23])],f=!0)},p(h,p){l=h,p[0]&8&&t!==(t=`${l[37]===!0?"color 1":l[38]===!0?"color 2":"color 3"}`)&&s(e,"aria-label",t),p[0]&164&&o!==(o=l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay")&&(e.disabled=o),p[0]&164&&a!==(a=l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay")&&s(e,"aria-disabled",a),p[0]&8&&L(e,"color1",l[37]),p[0]&8&&L(e,"color2",l[38]),p[0]&8&&L(e,"color3",l[39]),p[0]&64&&L(e,"reduced-motion",l[6]),p[0]&164&&L(e,"won",l[5]&&l[2]==="daily"||l[7]&&l[2]==="freeplay")},i(h){h&&(u||gt(()=>{u=yt(e,l[9],{duration:lt,direction:l[40],label:l[36]}),u.start()}))},o:j,d(h){h&&m(r),f=!1,ot(n)}}}function et(l,r){let e,t=r[4],o,a=xe(r);return{key:l,first:null,c(){e=J(),a.c(),o=J(),this.h()},l(u){e=J(),a.l(u),o=J(),this.h()},h(){this.first=e},m(u,f){C(u,e,f),a.m(u,f),C(u,o,f)},p(u,f){r=u,f[0]&16&&te(t,t=r[4])?(ze(),G(a,1,1,j),Ce(),a=xe(r),a.c(),q(a,1),a.m(o.parentNode,o)):a.p(r,f)},d(u){u&&(m(e),m(o)),a.d(u)}}}function tt(l,r){let e,t=[],o=new Map,a,u=ee(Array.from(Array(F).keys()));const f=n=>n[35];for(let n=0;n<u.length;n+=1){let i=Ke(r,u,n),c=f(i);o.set(c,t[n]=et(c,i))}return{key:l,first:null,c(){e=B("div");for(let n=0;n<t.length;n+=1)t[n].c();a=N(),this.h()},l(n){e=H(n,"DIV",{role:!0,class:!0});var i=T(e);for(let c=0;c<t.length;c+=1)t[c].l(i);a=O(i),i.forEach(m),this.h()},h(){s(e,"role","row"),s(e,"class","row"),qe(e,"--numColumns",F),this.first=e},m(n,i){C(n,e,i);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);M(e,a)},p(n,i){r=n,i[0]&1534&&(u=ee(Array.from(Array(F).keys())),t=Ee(t,i,f,1,r,u,o,e,Ve,et,a,Ke))},d(n){n&&m(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function rt(l){let r,e;return r=new $t({}),{c(){_e(r.$$.fragment)},l(t){pe(r.$$.fragment,t)},m(t,o){ve(r,t,o),e=!0},i(t){e||(q(r.$$.fragment,t),e=!0)},o(t){G(r.$$.fragment,t),e=!1},d(t){be(r,t)}}}function tr(l){let r,e,t,o,a,u;const f=[er,xt],n=[];function i(c,h){return c[0]?1:0}return t=i(l),o=n[t]=f[t](l),{c(){r=B("meta"),e=N(),o.c(),a=J(),this.h()},l(c){const h=vt("svelte-1tmfi4l",document.head);r=H(h,"META",{name:!0,content:!0}),h.forEach(m),e=O(c),o.l(c),a=J(),this.h()},h(){document.title="Flippin",s(r,"name","description"),s(r,"content","A tile flipping game written in SvelteKit")},m(c,h){M(document.head,r),C(c,e,h),n[t].m(c,h),C(c,a,h),u=!0},p(c,h){let p=t;t=i(c),t===p?n[t].p(c,h):(ze(),G(n[p],1,1,()=>{n[p]=null}),Ce(),o=n[t],o?o.p(c,h):(o=n[t]=f[t](c),o.c()),q(o,1),o.m(a.parentNode,a))},i(c){u||(q(o),u=!0)},o(c){G(o),u=!1},d(c){c&&(m(e),m(a)),m(r),n[t].d(c)}}}const lt=1e3;function rr(l,r,e){let t,o,a,u,f,n,i,c,h,p,k,b;A(l,Be,_=>e(2,a=_)),A(l,Ie,_=>e(27,u=_)),A(l,x,_=>e(16,f=_)),A(l,Pe,_=>e(17,n=_)),A(l,Le,_=>e(18,i=_)),A(l,me,_=>e(5,c=_)),A(l,Ae,_=>e(19,h=_)),A(l,le,_=>e(20,p=_)),A(l,Se,_=>e(6,k=_)),A(l,Me,_=>e(7,b=_));function E(_,D){return S>=0&&I>=0?_===S-1&&D===I?"up":_===S&&D===I+1?"right":_===S+1&&D===I?"down":_===S&&D===I-1?"left":null:null}function g(_,D){const{duration:R,direction:Z,label:$}=D;if(W(Se)||!Z)return{duration:0,css:()=>""};const ce=`var(--color-theme-${$===0?3:$})`,mt=`var(--color-theme-${$+1})`;return{duration:R,css:_t=>{const de=Ct(_t);let fe="";switch(Z){case"right":fe=`rotateY(${360*de}deg)`;break;case"left":fe=`rotateY(${-360*de}deg)`;break;case"up":fe=`rotateX(${360*de}deg)`;break;case"down":fe=`rotateX(${-360*de}deg)`;break}return`
					transform: ${fe};
					background: ${de<.75?ce:mt}`}}}let w,S=-1,I=-1,V=!1,y=!1,d=!0,v=0,z=0;function Q(){if(t||le.set(Bt),o||Ae.set(Ht),(t==null?void 0:t.lastGame)===W(re)){x.set((t==null?void 0:t.curTime)??0),e(14,v=(t==null?void 0:t.moveCount)??0),e(15,z=(t==null?void 0:t.resetCount)??0);const _=(t==null?void 0:t.curBoard)??"";e(3,w=new he(_))}else e(3,w=new he),x.set(0),le.update(()=>({curTime:0,curBoard:w.serializeCurrent(),lastGame:W(re),moveCount:0,resetCount:0}));e(13,d=!0),me.set(ne(w.current,w.end))}Fe(()=>{Q(),e(0,y=!0)});const ne=(_,D)=>_.length===D.length&&_.every((R,Z)=>R.length===D[Z].length&&R.every(($,ce)=>$===D[Z][ce]));function ie(){d&&y&&le.update(()=>({curTime:W(x),curBoard:w.serializeCurrent(),lastGame:W(re),moveCount:v,resetCount:z}))}function X(_,D){c&&a==="daily"||(a==="daily"&&e(14,v++,v),w.update(_,D),e(11,S=_),e(12,I=D),e(4,V=!V),ie(),ne(w.current,w.end)&&(d?(me.set(!0),Ae.update(R=>{const Z=W(x)/1e3,$=R.distribution,ce=Math.min(Math.floor(Z/60),Oe/60);return $[ce]+=1,{wonGames:R.wonGames+1,fastestGame:!R.fastestGame||Z<R.fastestGame?Z:R.fastestGame,fewestMoves:!R.fewestMoves||v<R.fewestMoves?v:R.fewestMoves,distribution:$}})):Me.set(!0)))}function ut(_){_==="daily"&&!d?(e(11,S=-1),e(12,I=-1),e(4,V=!V),Q()):a==="freeplay"&&d&&(Me.set(!1),e(3,w=new he("",u??Ue)),e(13,d=!1))}let ue;const ct=(_,D)=>X(_,D),dt=(_,D)=>X(_,D),ft=_=>zt(_,ue);function ht(_){st[_?"unshift":"push"](()=>{ue=_,e(1,ue)})}return l.$$.update=()=>{l.$$.dirty[0]&1048576&&(t=p),l.$$.dirty[0]&524288&&(o=h),l.$$.dirty[0]&303104&&i&&(Le.set(!1),d?(e(15,z++,z),e(3,w=new he)):(Me.set(!1),e(3,w=new he("",W(Ie)??Ue))),e(11,S=-1),e(12,I=-1),ie()),l.$$.dirty[0]&137218&&n&&(async()=>{var _;await bt(),Pe.set(!1),(_=ue.querySelector(`[data-table-row="${S}"][data-table-col="${I}"]`))==null||_.focus()})(),l.$$.dirty[0]&122881&&d&&y&&le.update(_=>({curTime:f,curBoard:_.curBoard,lastGame:W(re),moveCount:v,resetCount:z})),l.$$.dirty[0]&4&&ut(a)},[y,ue,a,w,V,c,k,b,E,g,X,S,I,d,v,z,f,n,i,h,p,ct,dt,ft,ht]}class sr extends oe{constructor(r){super(),se(this,r,rr,tr,te,{},null,[-1,-1])}}export{sr as component};
