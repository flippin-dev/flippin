import{a as oe,e as A,o as Y,b as q,c as B,d as T,p as G,h,f as O,j as s,k as V,l as M,n as W,m as S,t as J,q as x,S as Bt,y as Ae,v as te,x as Ue,T as gt,g as he,U as F,r as Ye,z as Ge,V as X,W as L,X as Ht,B as It,u as Xe,E as St,Y as Dt}from"../chunks/scheduler.BZjK8bPV.js";import{S as me,i as _e,a as U,g as De,t as Z,c as Ne,b as ke,d as ye,m as we,e as Me,f as Nt}from"../chunks/index.BvlOJt4R.js";import{f as je,d as kt,g as ie,a as Be,c as $e,b as ne,h as fe,e as Ve,i as Q,j as Ze,t as Pe,m as Ke,k as yt,n as ge,s as Fe,u as Lt,l as qt,o as Ot,p as jt,q as et,r as Pt,v as be,w as Re,x as qe,y as tt,z as wt,A as R,B as ve,C as de,D as We,E as rt,F as lt,G as Oe,H as Ft,I as Ce,J as ue,K as Ie,L as Rt,M as Wt,N as Ut,O as ot,P as Se}from"../chunks/duration.CmC0AQ39.js";const Yt=(l,{min_size:r=10,max_size:e=100}={min_size:10,max_size:100})=>{const t=()=>{l.parentElement&&Xt(l,l.parentElement,r,e)},o=new ResizeObserver(t);return o.observe(l==null?void 0:l.parentElement),{destroy(){o.disconnect()}}};function Gt({clientWidth:l,clientHeight:r,scrollWidth:e,scrollHeight:t}){return e>l||t>r}function Xt(l,r,e,t){let o=e,a=!1,i=e;for(l.style.fontSize=`${i}px`;!a&&o<t;)a=Gt(r),a||(l.style.fontSize=`${o}px`,o++);i=o-2,l.style.fontSize=`${i}px`}function at(l){let r,e,t,o,a;return{c(){r=A("div"),e=A("h1"),t=J(l[0]),this.h()},l(i){r=B(i,"DIV",{class:!0});var f=T(r);e=B(f,"H1",{class:!0});var n=T(e);t=x(n,l[0]),n.forEach(h),f.forEach(h),this.h()},h(){s(e,"class","svelte-2p64qv"),s(r,"class","subtitle-parent svelte-2p64qv")},m(i,f){V(i,r,f),M(r,e),M(e,t),o||(a=Bt(Yt.call(null,e,{min_size:18,max_size:34})),o=!0)},p(i,f){f&1&&Ae(t,i[0])},d(i){i&&h(r),o=!1,a()}}}function Zt(l){let r,e,t,o,a,i,f,n,c,u,m,v=l[0],k=at(l);return{c(){r=A("header"),e=A("div"),t=Y("svg"),o=Y("path"),a=Y("path"),i=Y("path"),f=Y("path"),n=Y("path"),c=Y("path"),u=Y("path"),m=q(),k.c(),this.h()},l(d){r=B(d,"HEADER",{role:!0,class:!0});var g=T(r);e=B(g,"DIV",{class:!0});var _=T(e);t=G(_,"svg",{viewBox:!0,fill:!0,xmlns:!0,role:!0,"aria-label":!0,class:!0});var b=T(t);o=G(b,"path",{d:!0,stroke:!0}),T(o).forEach(h),a=G(b,"path",{d:!0,stroke:!0}),T(a).forEach(h),i=G(b,"path",{d:!0,stroke:!0}),T(i).forEach(h),f=G(b,"path",{d:!0,stroke:!0}),T(f).forEach(h),n=G(b,"path",{d:!0,stroke:!0}),T(n).forEach(h),c=G(b,"path",{d:!0,stroke:!0}),T(c).forEach(h),u=G(b,"path",{d:!0,stroke:!0}),T(u).forEach(h),b.forEach(h),m=O(_),k.l(_),_.forEach(h),g.forEach(h),this.h()},h(){s(o,"d","M0 0.5 H5 M0.5 0 V5 M1.5 0 V5 M0 2.5 H5"),s(o,"stroke","var(--color-theme-1)"),s(a,"d","M6.5 0 V5 M7.5 0 V5 M6 4.5 H11"),s(a,"stroke","var(--color-theme-2)"),s(i,"d","M12 0.5 H17 M13.5 0 V5 M14.5 0 V5 M12 4.5 H17"),s(i,"stroke","var(--color-theme-3)"),s(f,"d","M18 0.5 H23 M18.5 0 V5 M19.5 0 V5 M22.5 0 V3 M18 2.5 H23"),s(f,"stroke","var(--color-theme-1)"),s(n,"d","M24 0.5 H29 M24.5 0 V5 M27.5 0 V3 M28.5 0 V3 M24 2.5 H29"),s(n,"stroke","var(--color-theme-2)"),s(c,"d","M30 0.5 H35 M32.5 0 V5 M33.5 0 V5 M30 4.5 H35"),s(c,"stroke","var(--color-theme-3)"),s(u,"d","M36.5 0 V5 M39.5 0 V5 M40.5 0 V5 M37 1.5 H38 M38 2.5 H39"),s(u,"stroke","var(--color-theme-1)"),s(t,"viewBox","0 0 41 5"),s(t,"fill","none"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"role","img"),s(t,"aria-label","Flippin logo"),s(t,"class","svelte-2p64qv"),s(e,"class","title-container svelte-2p64qv"),s(r,"role","banner"),s(r,"class","title")},m(d,g){V(d,r,g),M(r,e),M(e,t),M(t,o),M(t,a),M(t,i),M(t,f),M(t,n),M(t,c),M(t,u),M(e,m),k.m(e,null)},p(d,[g]){g&1&&oe(v,v=d[0])?(k.d(1),k=at(d),k.c(),k.m(e,null)):k.p(d,g)},i:W,o:W,d(d){d&&h(r),k.d(d)}}}function Kt(l,r,e){let t,o,a,i,f;S(l,je,c=>e(1,o=c)),S(l,kt,c=>e(2,a=c)),S(l,ie,c=>e(3,i=c)),S(l,Be,c=>e(4,f=c));function n(c){return c.startsWith($e)?c.substring($e.length):c}return l.$$.update=()=>{l.$$.dirty&30&&e(0,t=f==="daily"?`#${i}: ${a}`:n(o.title))},[t,o,a,i,f]}class Qt extends me{constructor(r){super(),_e(this,r,Kt,Zt,oe,{})}}function Jt(l){let r=l[2].format(Pe)+"",e;return{c(){e=J(r)},l(t){e=x(t,r)},m(t,o){V(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(Pe)+"")&&Ae(e,r)},d(t){t&&h(e)}}}function xt(l){let r;return{c(){r=J(l[0])},l(e){r=x(e,l[0])},m(e,t){V(e,r,t)},p(e,t){t&1&&Ae(r,e[0])},d(e){e&&h(r)}}}function $t(l){let r;function e(a,i){return a[1]&&a[0]?xt:Jt}let t=e(l),o=t(l);return{c(){o.c(),r=te()},l(a){o.l(a),r=te()},m(a,i){o.m(a,i),V(a,r,i)},p(a,[i]){t===(t=e(a))&&o?o.p(a,i):(o.d(1),o=t(a),o&&(o.c(),o.m(r.parentNode,r)))},i:W,o:W,d(a){a&&h(r),o.d(a)}}}function er(l,r,e){let t,o,a,i;S(l,ne,m=>e(5,o=m)),S(l,fe,m=>e(6,a=m)),S(l,Ve,m=>e(7,i=m));let{interval:f}=r,{message:n}=r,c,u=!1;return Ue(()=>{e(4,c=setInterval(()=>{i===null&&(ne.update(m=>m+1e3),o>=f*1e3&&(clearInterval(c),e(1,u=!0)))},1e3))}),Q.extend(Ze),gt(()=>{clearInterval(c)}),l.$$set=m=>{"interval"in m&&e(3,f=m.interval),"message"in m&&e(0,n=m.message)},l.$$.update=()=>{l.$$.dirty&32&&e(2,t=Q.duration(o)),l.$$.dirty&120&&a&&(o>=f*1e3&&e(1,u=!0),clearInterval(c))},[n,u,t,f,c,o,a]}class tr extends me{constructor(r){super(),_e(this,r,er,$t,oe,{interval:3,message:0})}}function st(l){let r,e;return r=new tr({props:{interval:Ke,message:yt}}),{c(){ke(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,o){we(r,t,o),e=!0},i(t){e||(U(r.$$.fragment,t),e=!0)},o(t){Z(r.$$.fragment,t),e=!1},d(t){Me(r,t)}}}function rr(l){let r,e,t='<svg aria-hidden="true" viewBox="-2 -2 12 17" fill="none" stroke="var(--color-text)" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M0.5 4.5 A3.5 3.5 0 1 1 4 8 V9" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="4" cy="12" r="0.75" stroke-width="1.5"></circle></svg>',o,a,i=`<svg aria-hidden="true" viewBox="-3 -3 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><circle cx="0" cy="0" r="1"></circle><path d="
                M1.4979407787322998 -0.07850953936576843 L1.9972550868988037 -0.10466885566711426
                M0.38822856545448303 -1.4488887786865234 L0.517638087272644 -1.9318516254425049 
                M-1.2580000162124634 -0.8169616460800171 L-1.6773391962051392 -1.089273452758789
                M-1.165722131729126 0.94398432970047 L-1.5542904138565063 1.2586369514465332
                M0.5375528335571289 1.400375485420227 L0.7167364358901978 1.867156744003296
            "></path></svg>`,f,n,c,u,m='<svg aria-hidden="true" viewBox="-0.6 -0.5 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M1 2 V4 M2.5 1 V4 M4 3 V4"></path></svg>',v,k,d,g,_,b,H,j,w=l[0]==="daily"&&st();return{c(){r=A("div"),e=A("button"),e.innerHTML=t,o=q(),a=A("button"),a.innerHTML=i,f=q(),n=A("div"),w&&w.c(),c=q(),u=A("button"),u.innerHTML=m,v=q(),k=A("button"),d=Y("svg"),g=Y("path"),this.h()},l(z){r=B(z,"DIV",{"data-toolbar-size":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var C=T(r);e=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),he(e)!=="svelte-mw9vy7"&&(e.innerHTML=t),o=O(C),a=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),he(a)!=="svelte-1dkmrrv"&&(a.innerHTML=i),f=O(C),n=B(C,"DIV",{role:!0,"aria-label":!0,class:!0});var I=T(n);w&&w.l(I),I.forEach(h),c=O(C),u=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),he(u)!=="svelte-wr6plk"&&(u.innerHTML=m),v=O(C),k=B(C,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var p=T(k);d=G(p,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,xmlns:!0,height:!0,width:!0});var E=T(d);g=G(E,"path",{d:!0}),T(g).forEach(h),E.forEach(h),p.forEach(h),C.forEach(h),this.h()},h(){s(e,"title","How to play"),s(e,"data-toolbar-pos","0"),s(e,"class","svelte-1y5nl4x"),s(a,"title","Settings"),s(a,"data-toolbar-pos","1"),s(a,"class","svelte-1y5nl4x"),s(n,"role","timer"),s(n,"aria-label","game timer"),s(n,"class","timer-container svelte-1y5nl4x"),s(u,"title","Stats"),s(u,"data-toolbar-pos","2"),s(u,"class","svelte-1y5nl4x"),s(g,"d",`
                M-1.4142135381698608 -1.4142135381698608 
                A1.999999965771458 1.999999965771458 0 1 1 -1.4999996423721313 0.4999951720237732
                M-1.4142135381698608 -1.4142135381698608 L-0.4142089784145355 -1.4142135381698608
                M-1.4142135381698608 -1.4142135381698608 L-1.4142135381698608 -2.414217948913574
            `),s(d,"aria-hidden","true"),s(d,"viewBox","-3.75 -3.5 8 6.25"),s(d,"fill","none"),s(d,"stroke","var(--color-text)"),s(d,"stroke-linecap","round"),s(d,"xmlns","http://www.w3.org/2000/svg"),s(d,"height","100%"),s(d,"width","100%"),s(k,"title","Reset the board"),s(k,"data-toolbar-pos","3"),k.disabled=l[2],s(k,"aria-disabled",l[2]),s(k,"class","svelte-1y5nl4x"),s(r,"data-toolbar-size",_=l[2]?3:4),s(r,"role","toolbar"),s(r,"aria-controls","game-board"),s(r,"aria-label","game controls"),s(r,"class","controls svelte-1y5nl4x")},m(z,C){V(z,r,C),M(r,e),M(r,o),M(r,a),M(r,f),M(r,n),w&&w.m(n,null),M(r,c),M(r,u),M(r,v),M(r,k),M(k,d),M(d,g),l[12](r),b=!0,H||(j=[F(e,"click",l[4]),F(e,"keydown",l[5]),F(a,"click",l[6]),F(a,"keydown",l[7]),F(u,"click",l[8]),F(u,"keydown",l[9]),F(k,"click",l[10]),F(k,"keydown",l[11])],H=!0)},p(z,[C]){z[0]==="daily"?w?C&1&&U(w,1):(w=st(),w.c(),U(w,1),w.m(n,null)):w&&(De(),Z(w,1,1,()=>{w=null}),Ne()),(!b||C&4)&&(k.disabled=z[2]),(!b||C&4)&&s(k,"aria-disabled",z[2]),(!b||C&4&&_!==(_=z[2]?3:4))&&s(r,"data-toolbar-size",_)},i(z){b||(U(w),b=!0)},o(z){Z(w),b=!1},d(z){z&&h(r),w&&w.d(),l[12](null),H=!1,Ye(j)}}}function lr(l,r,e){let t,o,a;S(l,Be,_=>e(0,o=_)),S(l,fe,_=>e(3,a=_));let i;const f=()=>Ve.set("tutorial"),n=_=>ge(_,i),c=()=>Ve.set("settings"),u=_=>ge(_,i),m=()=>Ve.set("stats"),v=_=>ge(_,i),k=()=>{t||Fe.set(!0)},d=_=>ge(_,i);function g(_){Ge[_?"unshift":"push"](()=>{i=_,e(1,i)})}return l.$$.update=()=>{l.$$.dirty&9&&e(2,t=a&&o==="daily")},[o,i,t,a,f,n,c,u,m,v,k,d,g]}class or extends me{constructor(r){super(),_e(this,r,lr,rr,oe,{})}}function ar(l){let r=l[2].format(et)+"",e;return{c(){e=J(r)},l(t){e=x(t,r)},m(t,o){V(t,e,o)},p(t,o){o&4&&r!==(r=t[2].format(et)+"")&&Ae(e,r)},d(t){t&&h(e)}}}function sr(l){let r,e;return{c(){r=A("a"),e=J(l[0]),this.h()},l(t){r=B(t,"A",{"data-sveltekit-reload":!0,href:!0});var o=T(r);e=x(o,l[0]),o.forEach(h),this.h()},h(){s(r,"data-sveltekit-reload",""),s(r,"href","/")},m(t,o){V(t,r,o),M(r,e)},p(t,o){o&1&&Ae(e,t[0])},d(t){t&&h(r)}}}function nr(l){let r;function e(a,i){return a[1]&&a[0]?sr:ar}let t=e(l),o=t(l);return{c(){o.c(),r=te()},l(a){o.l(a),r=te()},m(a,i){o.m(a,i),V(a,r,i)},p(a,[i]){t===(t=e(a))&&o?o.p(a,i):(o.d(1),o=t(a),o&&(o.c(),o.m(r.parentNode,r)))},i:W,o:W,d(a){a&&h(r),o.d(a)}}}function ir(l,r,e){let t,{message:o}=r;Q.extend(Lt),Q.extend(qt),Q.tz.setDefault(Ot);let a,i=!1;const f=Q.tz().endOf("d");let n=f.diff(Q.tz());return Q.extend(Ze),Ue(()=>{if(n<=0||X(ie)<jt()){e(1,i=!0);return}a=setInterval(()=>{e(3,n=f.diff(Q.tz())),n<=0&&e(1,i=!0)},1e3)}),gt(()=>{clearInterval(a)}),l.$$set=c=>{"message"in c&&e(0,o=c.message)},l.$$.update=()=>{l.$$.dirty&8&&e(2,t=Q.duration(n))},[o,i,t,n]}class ur extends me{constructor(r){super(),_e(this,r,ir,nr,oe,{message:0})}}function cr(l){let r,e="<strong>CONGRATULATIONS!</strong>";return{c(){r=A("p"),r.innerHTML=e,this.h()},l(t){r=B(t,"P",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-1ozh0e2"&&(r.innerHTML=e),this.h()},h(){s(r,"class","svelte-njm39p")},m(t,o){V(t,r,o)},p:W,d(t){t&&h(r)}}}function dr(l){let r,e,t=l[6]()+"",o,a,i,f,n,c,u,m,v,k,d,g,_;return{c(){r=A("p"),e=A("strong"),o=J(t),a=q(),i=A("p"),f=J("Moves: "),n=J(l[2]),c=q(),u=A("p"),m=J("Resets: "),v=J(l[3]),k=q(),d=A("p"),g=J("Hints: "),_=J(l[4]),this.h()},l(b){r=B(b,"P",{class:!0});var H=T(r);e=B(H,"STRONG",{});var j=T(e);o=x(j,t),j.forEach(h),H.forEach(h),a=O(b),i=B(b,"P",{class:!0});var w=T(i);f=x(w,"Moves: "),n=x(w,l[2]),w.forEach(h),c=O(b),u=B(b,"P",{class:!0});var z=T(u);m=x(z,"Resets: "),v=x(z,l[3]),z.forEach(h),k=O(b),d=B(b,"P",{class:!0});var C=T(d);g=x(C,"Hints: "),_=x(C,l[4]),C.forEach(h),this.h()},h(){s(r,"class","svelte-njm39p"),s(i,"class","svelte-njm39p"),s(u,"class","svelte-njm39p"),s(d,"class","svelte-njm39p")},m(b,H){V(b,r,H),M(r,e),M(e,o),V(b,a,H),V(b,i,H),M(i,f),M(i,n),V(b,c,H),V(b,u,H),M(u,m),M(u,v),V(b,k,H),V(b,d,H),M(d,g),M(d,_)},p:W,d(b){b&&(h(r),h(a),h(i),h(c),h(u),h(k),h(d))}}}function nt(l){let r,e="Share",t,o;return{c(){r=A("button"),r.textContent=e,this.h()},l(a){r=B(a,"BUTTON",{title:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),he(r)!=="svelte-omeyes"&&(r.textContent=e),this.h()},h(){s(r,"title","Copy results to clipboard"),s(r,"aria-label","copy game results to clipboard"),s(r,"class","svelte-njm39p")},m(a,i){V(a,r,i),t||(o=F(r,"click",l[5]),t=!0)},p:W,d(a){a&&h(r),t=!1,o()}}}function fr(l){let r,e,t,o,a="NEW PUZZLE IN:",i,f,n,c,u;function m(g,_){return g[1]==="daily"?dr:cr}let v=m(l),k=v(l);n=new ur({props:{message:Pt}});let d=l[1]==="daily"&&nt(l);return{c(){r=A("div"),e=A("div"),k.c(),t=q(),o=A("p"),o.textContent=a,i=q(),f=A("div"),ke(n.$$.fragment),c=q(),d&&d.c(),this.h()},l(g){r=B(g,"DIV",{role:!0,"aria-label":!0,class:!0});var _=T(r);e=B(_,"DIV",{role:!0,class:!0});var b=T(e);k.l(b),t=O(b),o=B(b,"P",{class:!0,"data-svelte-h":!0}),he(o)!=="svelte-1gwrm7v"&&(o.textContent=a),b.forEach(h),i=O(_),f=B(_,"DIV",{role:!0,"aria-label":!0,class:!0});var H=T(f);ye(n.$$.fragment,H),H.forEach(h),c=O(_),d&&d.l(_),_.forEach(h),this.h()},h(){s(o,"class","svelte-njm39p"),s(e,"role","presentation"),s(e,"class","game-recap svelte-njm39p"),s(f,"role","timer"),s(f,"aria-label","countdown to next daily puzzle"),s(f,"class","countdown-container svelte-njm39p"),s(r,"role","region"),s(r,"aria-label","post-game info"),s(r,"class","game-over-block svelte-njm39p"),L(r,"reduced-motion",l[0])},m(g,_){V(g,r,_),M(r,e),k.m(e,null),M(e,t),M(e,o),M(r,i),M(r,f),we(n,f,null),M(r,c),d&&d.m(r,null),u=!0},p(g,[_]){v===(v=m(g))&&k?k.p(g,_):(k.d(1),k=v(g),k&&(k.c(),k.m(e,t))),g[1]==="daily"?d?d.p(g,_):(d=nt(g),d.c(),d.m(r,null)):d&&(d.d(1),d=null),(!u||_&1)&&L(r,"reduced-motion",g[0])},i(g){u||(U(n.$$.fragment,g),u=!0)},o(g){Z(n.$$.fragment,g),u=!1},d(g){g&&h(r),k.d(),Me(n),d&&d.d()}}}function hr(l,r,e){let t,o,a;S(l,be,d=>e(7,t=d)),S(l,Re,d=>e(0,o=d)),S(l,Be,d=>e(1,a=d)),Q.extend(Ze);const{curBoard:i,moveCount:f,resetCount:n,hintCount:c,hasSurrendered:u}=t;function m(){const d=X(ne);return d/1e3>=Ke?-1:d}function v(){const d=`Flippin #${X(ie)}: ${X(kt)}`,g="https://flippin-dev.github.io/flippin/",_=m(),b=_>0?Q.duration(_).format(Pe):yt;if(i===null){qe("Could not find board image",{theme:{"--toastBackground":"var(--error-color)"}});return}let H="";for(let w=0;w<i.length;w++)w%R===0&&w!==0&&(H+=`
`),H+=i[w]==="0"?"ðŸŸ¥":i[w]==="1"?"ðŸŸ©":"ðŸŸ¦";let j=`${d}
${H}
Time: ${b}${u?" ðŸ³":""}
Moves: ${f??""}
Resets: ${n??""}
Hints: ${c??""}

${g}`;navigator.clipboard.writeText(j).then(()=>qe("Results copied to clipboard"),()=>qe("Could not complete action",{theme:{"--toastBackground":"var(--error-color)"}}))}function k(){const d=m(),g=X(ie);let _=0;if(g>0&&g<tt.length+1){const b=tt[g-1];_=wt(b.start,b.end).reduce((H,j)=>H+j,0)}return u?"NEXT TIME!":f===_&&c===0?"PERFECT!":d<0?"SLOW AND STEADY!":d/1e3<=60?"SPEEDY!":c===0?"NO HELP NEEDED!":"CONGRATULATIONS!"}return[o,a,f,n,c,v,k]}class mr extends me{constructor(r){super(),_e(this,r,hr,fr,oe,{})}}function _r(l){let r,e,t,o,a,i,f,n,c,u,m,v,k,d,g;return{c(){r=A("div"),e=A("button"),t=Y("svg"),o=Y("path"),f=q(),n=A("button"),c=Y("svg"),u=Y("path"),this.h()},l(_){r=B(_,"DIV",{"data-toolbar-size":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var b=T(r);e=B(b,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var H=T(e);t=G(H,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,xmlns:!0,width:!0,height:!0});var j=T(t);o=G(j,"path",{d:!0}),T(o).forEach(h),j.forEach(h),H.forEach(h),f=O(b),n=B(b,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var w=T(n);c=G(w,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,xmlns:!0,width:!0,height:!0});var z=T(c);u=G(z,"path",{d:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),T(u).forEach(h),z.forEach(h),w.forEach(h),b.forEach(h),this.h()},h(){s(o,"d",`m 7.0040696,7.6221535 -1,2
                h -3
                l -1,-2
                a 4,4 0 1 1 5,0
                z
                m -4,3.4999995
                h 3
                m -2,1.5
                h 1`),s(t,"aria-hidden","true"),s(t,"viewBox","0 0 9.0081396 13.122153"),s(t,"fill","var(--color-text)"),s(t,"stroke","var(--color-text)"),s(t,"stroke-linecap","round"),s(t,"stroke-linejoin","round"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","70%"),s(t,"height","70%"),s(e,"title","Hint"),s(e,"data-toolbar-pos","0"),e.disabled=a=l[1]||l[2],s(e,"aria-disabled",i=l[1]||l[2]),s(e,"class","svelte-1vtr7qa"),s(u,"d",`M 11.652055,80.048603
            Q 17.429027,62.971525 30.970571,74.872222 44.512115,86.772919 50.289088,69.695841
            L 43.818612,45.547695
            Q 38.041639,62.624773 24.500095,50.724076 10.958551,38.823379 5.1815788,55.900457
            L 18.122531,104.19675`),s(u,"stroke-width","8"),s(u,"stroke-linecap","round"),s(u,"stroke-linejoin","round"),s(c,"aria-hidden","true"),s(c,"viewBox","0 18 50 110"),s(c,"fill","var(--color-text)"),s(c,"stroke","var(--color-text)"),s(c,"xmlns","http://www.w3.org/2000/svg"),s(c,"width","100%"),s(c,"height","100%"),s(n,"title","Surrender"),s(n,"data-toolbar-pos","1"),n.disabled=m=l[1]||l[2],s(n,"aria-disabled",v=l[1]||l[2]),s(n,"class","svelte-1vtr7qa"),s(r,"data-toolbar-size",k=l[1]||l[2]?0:2),s(r,"role","toolbar"),s(r,"aria-controls","game-board"),s(r,"aria-label","extra game controls"),s(r,"class","controls svelte-1vtr7qa")},m(_,b){V(_,r,b),M(r,e),M(e,t),M(t,o),M(r,f),M(r,n),M(n,c),M(c,u),l[10](r),d||(g=[F(e,"click",l[6]),F(e,"keydown",l[7]),F(n,"click",l[8]),F(n,"keydown",l[9])],d=!0)},p(_,[b]){b&6&&a!==(a=_[1]||_[2])&&(e.disabled=a),b&6&&i!==(i=_[1]||_[2])&&s(e,"aria-disabled",i),b&6&&m!==(m=_[1]||_[2])&&(n.disabled=m),b&6&&v!==(v=_[1]||_[2])&&s(n,"aria-disabled",v),b&6&&k!==(k=_[1]||_[2]?0:2)&&s(r,"data-toolbar-size",k)},i:W,o:W,d(_){_&&h(r),l[10](null),d=!1,Ye(g)}}}function pr(l,r,e){let t,o,a,i,f;S(l,Be,d=>e(3,o=d)),S(l,ve,d=>e(4,a=d)),S(l,fe,d=>e(5,i=d)),S(l,de,d=>e(2,f=d));let n;const c=()=>{t||f||We.set(!0)},u=d=>ge(d,n),m=()=>{t||f||Ve.set("surrender")},v=d=>ge(d,n);function k(d){Ge[d?"unshift":"push"](()=>{n=d,e(0,n)})}return l.$$.update=()=>{l.$$.dirty&56&&e(1,t=i&&o==="daily"||a&&o==="freeplay")},[n,t,f,o,a,i,c,u,m,v,k]}class br extends me{constructor(r){super(),_e(this,r,pr,_r,oe,{})}}function it(l,r,e){const t=l.slice();return t[41]=r[e],t}function ut(l,r,e){var u;const t=l.slice();t[44]=r[e];const o=(u=t[0].current[t[41]])==null?void 0:u[t[44]];t[45]=o;const a=t[45]===0;t[46]=a;const i=t[45]===1;t[47]=i;const f=t[45]===2;t[48]=f;const n=t[11](t[41],t[44]);t[49]=n;const c=t[7]&&t[41]===t[5]&&t[44]===t[6];return t[50]=c,t}function ct(l,r,e){const t=l.slice();return t[41]=r[e],t}function dt(l,r,e){var f,n,c;const t=l.slice();t[44]=r[e];const o=((f=t[0].end[t[41]])==null?void 0:f[t[44]])===0;t[46]=o;const a=((n=t[0].end[t[41]])==null?void 0:n[t[44]])===1;t[47]=a;const i=((c=t[0].end[t[41]])==null?void 0:c[t[44]])===2;return t[48]=i,t}function vr(l){let r,e,t,o,a=[],i=new Map,f,n,c,u,m,v=[],k=new Map,d,g,_,b,H;r=new Qt({});let j=ue(Array.from(Array(R).keys()));const w=p=>p[41];for(let p=0;p<j.length;p+=1){let E=ct(l,j,p),D=w(E);i.set(D,a[p]=ht(D,E))}n=new or({});let z=ue(Array.from(Array(R).keys()));const C=p=>p[41];for(let p=0;p<z.length;p+=1){let E=it(l,z,p),D=C(E);k.set(D,v[p]=pt(D,E))}g=new br({});let I=(l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")&&bt();return{c(){ke(r.$$.fragment),e=q(),t=A("div"),o=A("div");for(let p=0;p<a.length;p+=1)a[p].c();f=q(),ke(n.$$.fragment),c=q(),u=A("div"),m=A("div");for(let p=0;p<v.length;p+=1)v[p].c();d=q(),ke(g.$$.fragment),_=q(),b=A("div"),I&&I.c(),this.h()},l(p){ye(r.$$.fragment,p),e=O(p),t=B(p,"DIV",{role:!0,"aria-label":!0,class:!0});var E=T(t);o=B(E,"DIV",{role:!0,class:!0,"aria-label":!0});var D=T(o);for(let $=0;$<a.length;$+=1)a[$].l(D);D.forEach(h),E.forEach(h),f=O(p),ye(n.$$.fragment,p),c=O(p),u=B(p,"DIV",{role:!0,"aria-label":!0,"aria-live":!0,class:!0});var re=T(u);m=B(re,"DIV",{"data-table-rows":!0,"data-table-cols":!0,class:!0,id:!0,role:!0,"aria-label":!0});var le=T(m);for(let $=0;$<v.length;$+=1)v[$].l(le);le.forEach(h),re.forEach(h),d=O(p),ye(g.$$.fragment,p),_=O(p),b=B(p,"DIV",{class:!0,"aria-live":!0});var ae=T(b);I&&I.l(ae),ae.forEach(h),this.h()},h(){s(o,"role","table"),s(o,"class","board reference-board svelte-1qogvn8"),s(o,"aria-label","reference game board"),s(t,"role","region"),s(t,"aria-label","end state of game board"),s(t,"class","region-container svelte-1qogvn8"),s(m,"data-table-rows",R),s(m,"data-table-cols",R),s(m,"class","board game-board"),s(m,"id","game-board"),s(m,"role","grid"),s(m,"aria-label","game board"),s(u,"role","region"),s(u,"aria-label","playing area"),s(u,"aria-live","off"),s(u,"class","region-container svelte-1qogvn8"),s(b,"class","region-container svelte-1qogvn8"),s(b,"aria-live","polite")},m(p,E){we(r,p,E),V(p,e,E),V(p,t,E),M(t,o);for(let D=0;D<a.length;D+=1)a[D]&&a[D].m(o,null);V(p,f,E),we(n,p,E),V(p,c,E),V(p,u,E),M(u,m);for(let D=0;D<v.length;D+=1)v[D]&&v[D].m(m,null);l[33](m),V(p,d,E),we(g,p,E),V(p,_,E),V(p,b,E),I&&I.m(b,null),H=!0},p(p,E){E[0]&1&&(j=ue(Array.from(Array(R).keys())),a=Ie(a,E,w,1,p,j,i,o,Se,ht,null,ct)),E[0]&12283&&(z=ue(Array.from(Array(R).keys())),v=Ie(v,E,C,1,p,z,k,m,Se,pt,null,it)),p[8]&&p[4]==="daily"||p[10]&&p[4]==="freeplay"?I?E[0]&1296&&U(I,1):(I=bt(),I.c(),U(I,1),I.m(b,null)):I&&(De(),Z(I,1,1,()=>{I=null}),Ne())},i(p){H||(U(r.$$.fragment,p),U(n.$$.fragment,p),U(g.$$.fragment,p),U(I),H=!0)},o(p){Z(r.$$.fragment,p),Z(n.$$.fragment,p),Z(g.$$.fragment,p),Z(I),H=!1},d(p){p&&(h(e),h(t),h(f),h(c),h(u),h(d),h(_),h(b)),Me(r,p);for(let E=0;E<a.length;E+=1)a[E].d();Me(n,p);for(let E=0;E<v.length;E+=1)v[E].d();l[33](null),Me(g,p),I&&I.d()}}}function gr(l){let r,e="<p>Loading...</p>";return{c(){r=A("div"),r.innerHTML=e,this.h()},l(t){r=B(t,"DIV",{class:!0,"data-svelte-h":!0}),he(r)!=="svelte-kqmxoz"&&(r.innerHTML=e),this.h()},h(){s(r,"class","loading")},m(t,o){V(t,r,o)},p:W,i:W,o:W,d(t){t&&h(r)}}}function ft(l,r){let e,t;return{key:l,first:null,c(){e=A("div"),this.h()},l(o){e=B(o,"DIV",{class:!0,role:!0,"aria-label":!0}),T(e).forEach(h),this.h()},h(){s(e,"class","tile"),s(e,"role","cell"),s(e,"aria-label",t=`${r[46]===!0?"color 1":r[47]===!0?"color 2":"color 3"}`),L(e,"color1",r[46]),L(e,"color2",r[47]),L(e,"color3",r[48]),this.first=e},m(o,a){V(o,e,a)},p(o,a){r=o,a[0]&1&&t!==(t=`${r[46]===!0?"color 1":r[47]===!0?"color 2":"color 3"}`)&&s(e,"aria-label",t),a[0]&1&&L(e,"color1",r[46]),a[0]&1&&L(e,"color2",r[47]),a[0]&1&&L(e,"color3",r[48])},d(o){o&&h(e)}}}function ht(l,r){let e,t=[],o=new Map,a,i=ue(Array.from(Array(R).keys()));const f=n=>n[44];for(let n=0;n<i.length;n+=1){let c=dt(r,i,n),u=f(c);o.set(u,t[n]=ft(u,c))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();a=q(),this.h()},l(n){e=B(n,"DIV",{role:!0,class:!0});var c=T(e);for(let u=0;u<t.length;u+=1)t[u].l(c);a=O(c),c.forEach(h),this.h()},h(){s(e,"role","row"),s(e,"class","row"),Xe(e,"--numColumns",R),this.first=e},m(n,c){V(n,e,c);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);M(e,a)},p(n,c){r=n,c[0]&1&&(i=ue(Array.from(Array(R).keys())),t=Ie(t,c,f,1,r,i,o,e,Se,ft,a,dt))},d(n){n&&h(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function mt(l){let r,e,t,o,a,i,f,n;function c(){return l[30](l[41],l[44])}function u(){return l[31](l[41],l[44])}return{c(){r=A("div"),e=A("button"),this.h()},l(m){r=B(m,"DIV",{class:!0});var v=T(r);e=B(v,"BUTTON",{"data-table-row":!0,"data-table-col":!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-disabled":!0,class:!0}),T(e).forEach(h),v.forEach(h),this.h()},h(){s(e,"data-table-row",l[41]),s(e,"data-table-col",l[44]),s(e,"data-testid","row"+l[41]+"-col"+l[44]),s(e,"role","gridcell"),s(e,"aria-label",t=`${l[46]===!0?"color 1":l[47]===!0?"color 2":"color 3"}`),e.disabled=o=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[50],s(e,"aria-disabled",a=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[50]),s(e,"class","svelte-1qogvn8"),L(e,"color1",l[46]),L(e,"color2",l[47]),L(e,"color3",l[48]),L(e,"not-hint",l[7]&&!l[50]),L(e,"reduced-motion",l[9]),L(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"),Xe(e,"--animationDelay",`${(l[49]?0:vt)+100*(l[44]+l[41]*(R-1))}ms`),s(r,"class","tile svelte-1qogvn8")},m(m,v){V(m,r,v),M(r,e),f||(n=[F(e,"click",c),F(e,"touchstart",Dt(u)),F(e,"keydown",l[32])],f=!0)},p(m,v){l=m,v[0]&1&&t!==(t=`${l[46]===!0?"color 1":l[47]===!0?"color 2":"color 3"}`)&&s(e,"aria-label",t),v[0]&1520&&o!==(o=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[50])&&(e.disabled=o),v[0]&1520&&a!==(a=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[50])&&s(e,"aria-disabled",a),v[0]&1&&L(e,"color1",l[46]),v[0]&1&&L(e,"color2",l[47]),v[0]&1&&L(e,"color3",l[48]),v[0]&224&&L(e,"not-hint",l[7]&&!l[50]),v[0]&512&&L(e,"reduced-motion",l[9]),v[0]&1296&&L(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")},i(m){m&&(i||St(()=>{i=Nt(e,l[12],{duration:vt,direction:l[49],label:l[45]}),i.start()}))},o:W,d(m){m&&h(r),f=!1,Ye(n)}}}function _t(l,r){let e,t=r[1],o,a=mt(r);return{key:l,first:null,c(){e=te(),a.c(),o=te(),this.h()},l(i){e=te(),a.l(i),o=te(),this.h()},h(){this.first=e},m(i,f){V(i,e,f),a.m(i,f),V(i,o,f)},p(i,f){r=i,f[0]&2&&oe(t,t=r[1])?(De(),Z(a,1,1,W),Ne(),a=mt(r),a.c(),U(a,1),a.m(o.parentNode,o)):a.p(r,f)},d(i){i&&(h(e),h(o)),a.d(i)}}}function pt(l,r){let e,t=[],o=new Map,a,i=ue(Array.from(Array(R).keys()));const f=n=>n[44];for(let n=0;n<i.length;n+=1){let c=ut(r,i,n),u=f(c);o.set(u,t[n]=_t(u,c))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();a=q(),this.h()},l(n){e=B(n,"DIV",{role:!0,class:!0});var c=T(e);for(let u=0;u<t.length;u+=1)t[u].l(c);a=O(c),c.forEach(h),this.h()},h(){s(e,"role","row"),s(e,"class","row"),Xe(e,"--numColumns",R),this.first=e},m(n,c){V(n,e,c);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);M(e,a)},p(n,c){r=n,c[0]&12283&&(i=ue(Array.from(Array(R).keys())),t=Ie(t,c,f,1,r,i,o,e,Se,_t,a,ut))},d(n){n&&h(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function bt(l){let r,e;return r=new mr({}),{c(){ke(r.$$.fragment)},l(t){ye(r.$$.fragment,t)},m(t,o){we(r,t,o),e=!0},i(t){e||(U(r.$$.fragment,t),e=!0)},o(t){Z(r.$$.fragment,t),e=!1},d(t){Me(r,t)}}}function kr(l){let r,e,t,o,a,i;const f=[gr,vr],n=[];function c(u,m){return u[2]?1:0}return t=c(l),o=n[t]=f[t](l),{c(){r=A("meta"),e=q(),o.c(),a=te(),this.h()},l(u){const m=Ht("svelte-1tmfi4l",document.head);r=B(m,"META",{name:!0,content:!0}),m.forEach(h),e=O(u),o.l(u),a=te(),this.h()},h(){document.title="Flippin",s(r,"name","description"),s(r,"content","A tile flipping game written in SvelteKit")},m(u,m){M(document.head,r),V(u,e,m),n[t].m(u,m),V(u,a,m),i=!0},p(u,m){let v=t;t=c(u),t===v?n[t].p(u,m):(De(),Z(n[v],1,1,()=>{n[v]=null}),Ne(),o=n[t],o?o.p(u,m):(o=n[t]=f[t](u),o.c()),U(o,1),o.m(a.parentNode,a))},i(u){i||(U(o),i=!0)},o(u){Z(o),i=!1},d(u){u&&(h(e),h(a)),h(r),n[t].d(u)}}}const vt=1e3;function yr(l,r,e){let t,o,a,i,f,n,c,u,m,v,k,d,g,_,b;S(l,Be,y=>e(4,a=y)),S(l,je,y=>e(36,i=y)),S(l,ne,y=>e(23,f=y)),S(l,rt,y=>e(24,n=y)),S(l,lt,y=>e(25,c=y)),S(l,We,y=>e(26,u=y)),S(l,Fe,y=>e(27,m=y)),S(l,de,y=>e(7,v=y)),S(l,fe,y=>e(8,k=y)),S(l,Oe,y=>e(28,d=y)),S(l,be,y=>e(29,g=y)),S(l,Re,y=>e(9,_=y)),S(l,ve,y=>e(10,b=y));function H(y,N){return z>=0&&C>=0?y===z-1&&N===C?"up":y===z&&N===C+1?"right":y===z+1&&N===C?"down":y===z&&N===C-1?"left":null:null}function j(y,N){const{duration:P,direction:K,label:ee}=N;if(X(Re)||!K)return{duration:0,css:()=>""};const ce=`var(--color-theme-${ee===0?3:ee})`,Vt=`var(--color-theme-${ee+1})`;return{duration:P,css:At=>{const Te=Rt(At);let ze="";switch(K){case"right":ze=`rotateY(${360*Te}deg)`;break;case"left":ze=`rotateY(${-360*Te}deg)`;break;case"up":ze=`rotateX(${360*Te}deg)`;break;case"down":ze=`rotateX(${-360*Te}deg)`;break}return`
					transform: ${ze};
					background: ${Te<.75?ce:Vt}`}}}let w,z=-1,C=-1,I=!1,p=!1,E=!0,D=0,re=0,le=0,ae=[],$=-1,Qe=-1,se=!1,pe=!1;function Je(){if(t||be.set(Wt),o||Oe.set(Ut),(t==null?void 0:t.lastGame)===X(ie)){ne.set((t==null?void 0:t.curTime)??0),e(17,D=(t==null?void 0:t.moveCount)??0),e(18,re=(t==null?void 0:t.resetCount)??0),e(19,le=(t==null?void 0:t.hintCount)??0),e(22,pe=(t==null?void 0:t.hasSurrendered)??!1);const y=(t==null?void 0:t.curBoard)??"";e(0,w=new Ce(y))}else e(0,w=new Ce),ne.set(0),be.update(()=>({curTime:0,curBoard:w.serializeCurrent(),lastGame:X(ie),moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1}));e(16,E=!0),fe.set(xe(w.current,w.end))}Ue(()=>{Je(),e(2,p=!0)});const xe=(y,N)=>y.length===N.length&&y.every((P,K)=>P.length===N[K].length&&P.every((ee,ce)=>ee===N[K][ce]));function He(){E&&p&&be.update(()=>({curTime:X(ne),curBoard:w.serializeCurrent(),lastGame:X(ie),moveCount:D,resetCount:re,hintCount:le,hasSurrendered:pe}))}function Le(y,N){k&&a==="daily"||(a==="daily"&&e(17,D++,D),v?(de.set(!1),e(21,se=!0)):se&&e(21,se=!1),w.update(y,N),e(14,z=y),e(15,C=N),e(1,I=!I),He(),xe(w.current,w.end)&&(E?(fe.set(!0),Oe.update(P=>{const K=X(ne)/1e3,ee=P.distribution,ce=Math.min(Math.floor(K/60),Ke/60);return ee[ce]+=1,{wonGames:P.wonGames+1,fastestGame:!P.fastestGame||K<P.fastestGame?K:P.fastestGame,fewestMoves:!P.fewestMoves||D<P.fewestMoves?D:P.fewestMoves,distribution:ee}})):ve.set(!0)))}function Mt(y){y==="daily"&&!E?(de.set(!1),e(21,se=!1),e(14,z=-1),e(15,C=-1),e(1,I=!I),Je()):y==="freeplay"&&E&&(de.set(!1),e(21,se=!1),e(22,pe=!1),ve.set(!1),e(0,w=new Ce("",i??ot)),e(16,E=!1))}let Ee;const Et=(y,N)=>Le(y,N),Tt=(y,N)=>Le(y,N),zt=y=>Ft(y,Ee);function Ct(y){Ge[y?"unshift":"push"](()=>{Ee=y,e(3,Ee)})}return l.$$.update=()=>{if(l.$$.dirty[0]&536870912&&(t=g),l.$$.dirty[0]&268435456&&(o=d),l.$$.dirty[0]&134545408&&m&&(Fe.set(!1),de.set(!1),e(21,se=!1),E?(e(18,re++,re),e(0,w=new Ce)):(ve.set(!1),e(0,w=new Ce("",X(je)??ot))),e(14,z=-1),e(15,C=-1),He()),l.$$.dirty[0]&33619971&&c&&(lt.set(!1),e(0,w.current=w.end,w),E?(fe.set(!0),e(22,pe=!0)):ve.set(!0),e(14,z=-1),e(15,C=-1),e(1,I=!I),He()),l.$$.dirty[0]&70778881&&u){We.set(!1),de.set(!0),se||e(20,ae=wt(w.serializeCurrent(),w.serializeEnd()));const y=[],N=ae.reduce((K,ee,ce)=>(ee>0&&K.push(ce),K),y),P=N[Math.floor(Math.random()*N.length)];e(5,$=Math.floor(P/R)),e(6,Qe=P%R),e(20,ae[P]--,ae),e(14,z=-1),e(15,C=-1),e(19,le++,le),He()}l.$$.dirty[0]&16826376&&n&&(async()=>{var y;await It(),rt.set(!1),(y=Ee.querySelector(`[data-table-row="${z}"][data-table-col="${C}"]`))==null||y.focus()})(),l.$$.dirty[0]&13565956&&E&&p&&be.update(y=>({curTime:f,curBoard:y.curBoard,lastGame:X(ie),moveCount:D,resetCount:re,hintCount:le,hasSurrendered:pe})),l.$$.dirty[0]&16&&Mt(a)},[w,I,p,Ee,a,$,Qe,v,k,_,b,H,j,Le,z,C,E,D,re,le,ae,se,pe,f,n,c,u,m,d,g,Et,Tt,zt,Ct]}class Tr extends me{constructor(r){super(),_e(this,r,yr,kr,oe,{},null,[-1,-1])}}export{Tr as component};
