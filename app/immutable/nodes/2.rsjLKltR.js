import{a as he,e as A,o as J,b as X,c as H,d as E,p as x,h,f as Z,j as o,k as R,l as _,n as $,m as N,t as ae,q as ne,S as Wt,y as fe,v as ce,x as et,T as ft,g as ke,U as q,V as Ge,r as tt,z as rt,W as Y,X as K,Y as qt,B as Ut,u as ht,E as jt}from"../chunks/scheduler.DYmERTUr.js";import{S as we,i as ze,g as Xe,t as re,c as Ze,a as ee,b as Ie,d as Be,m as Pe,e as Ae,f as Gt}from"../chunks/index.C98Kkirz.js";import{f as ye,d as At,g as Te,a as Ce,c as Je,b as Ee,h as Ne,e as Oe,i as se,j as lt,t as Qe,s as it,k as Le,l as Me,n as ge,m as Re,o as ot,p as pt,u as Yt,q as Xt,r as Zt,v as Qt,w as mt,x as Kt,y as Ht,z as me,A as Fe,B as Ke,C as De,D as ut,E as at,F as _t,G as ct,H as _e,I as le,J as Se,K as dt,L as Ye,M as bt,N as vt,O as nt,P as Jt,Q as je,R as Ve,S as xe,T as xt,U as $t,V as er,W as $e}from"../chunks/duration.D_-JWeUz.js";const tr=(l,{min_size:r=10,max_size:e=100}={min_size:10,max_size:100})=>{const t=()=>{l.parentElement&&lr(l,l.parentElement,r,e)},s=new ResizeObserver(t);return s.observe(l==null?void 0:l.parentElement),{destroy(){s.disconnect()}}};function rr({clientWidth:l,clientHeight:r,scrollWidth:e,scrollHeight:t}){return e>l||t>r}function lr(l,r,e,t){let s=e,a=!1,i=e;for(l.style.fontSize=`${i}px`;!a&&s<t;)a=rr(r),a||(l.style.fontSize=`${s}px`,s++);i=s-2,l.style.fontSize=`${i}px`}function gt(l){let r,e,t,s,a;return{c(){r=A("div"),e=A("h1"),t=ae(l[0]),this.h()},l(i){r=H(i,"DIV",{class:!0});var d=E(r);e=H(d,"H1",{class:!0});var n=E(e);t=ne(n,l[0]),n.forEach(h),d.forEach(h),this.h()},h(){o(e,"class","svelte-2p64qv"),o(r,"class","subtitle-parent svelte-2p64qv")},m(i,d){R(i,r,d),_(r,e),_(e,t),s||(a=Wt(tr.call(null,e,{min_size:18,max_size:34})),s=!0)},p(i,d){d&1&&fe(t,i[0])},d(i){i&&h(r),s=!1,a()}}}function or(l){let r,e,t,s,a,i,d,n,u,c,f,m=l[0],g=gt(l);return{c(){r=A("header"),e=A("div"),t=J("svg"),s=J("path"),a=J("path"),i=J("path"),d=J("path"),n=J("path"),u=J("path"),c=J("path"),f=X(),g.c(),this.h()},l(b){r=H(b,"HEADER",{role:!0,class:!0});var w=E(r);e=H(w,"DIV",{class:!0});var k=E(e);t=x(k,"svg",{viewBox:!0,fill:!0,xmlns:!0,role:!0,"aria-label":!0,class:!0});var v=E(t);s=x(v,"path",{d:!0,stroke:!0}),E(s).forEach(h),a=x(v,"path",{d:!0,stroke:!0}),E(a).forEach(h),i=x(v,"path",{d:!0,stroke:!0}),E(i).forEach(h),d=x(v,"path",{d:!0,stroke:!0}),E(d).forEach(h),n=x(v,"path",{d:!0,stroke:!0}),E(n).forEach(h),u=x(v,"path",{d:!0,stroke:!0}),E(u).forEach(h),c=x(v,"path",{d:!0,stroke:!0}),E(c).forEach(h),v.forEach(h),f=Z(k),g.l(k),k.forEach(h),w.forEach(h),this.h()},h(){o(s,"d","M0 0.5 H5 M0.5 0 V5 M1.5 0 V5 M0 2.5 H5"),o(s,"stroke","var(--color-theme-1)"),o(a,"d","M6.5 0 V5 M7.5 0 V5 M6 4.5 H11"),o(a,"stroke","var(--color-theme-2)"),o(i,"d","M12 0.5 H17 M13.5 0 V5 M14.5 0 V5 M12 4.5 H17"),o(i,"stroke","var(--color-theme-3)"),o(d,"d","M18 0.5 H23 M18.5 0 V5 M19.5 0 V5 M22.5 0 V3 M18 2.5 H23"),o(d,"stroke","var(--color-theme-1)"),o(n,"d","M24 0.5 H29 M24.5 0 V5 M27.5 0 V3 M28.5 0 V3 M24 2.5 H29"),o(n,"stroke","var(--color-theme-2)"),o(u,"d","M30 0.5 H35 M32.5 0 V5 M33.5 0 V5 M30 4.5 H35"),o(u,"stroke","var(--color-theme-3)"),o(c,"d","M36.5 0 V5 M39.5 0 V5 M40.5 0 V5 M37 1.5 H38 M38 2.5 H39"),o(c,"stroke","var(--color-theme-1)"),o(t,"viewBox","0 0 41 5"),o(t,"fill","none"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"role","img"),o(t,"aria-label","Flippin logo"),o(t,"class","svelte-2p64qv"),o(e,"class","title-container svelte-2p64qv"),o(r,"role","banner"),o(r,"class","title")},m(b,w){R(b,r,w),_(r,e),_(e,t),_(t,s),_(t,a),_(t,i),_(t,d),_(t,n),_(t,u),_(t,c),_(e,f),g.m(e,null)},p(b,[w]){w&1&&he(m,m=b[0])?(g.d(1),g=gt(b),g.c(),g.m(e,null)):g.p(b,w)},i:$,o:$,d(b){b&&h(r),g.d(b)}}}function sr(l,r,e){let t,s,a,i,d;N(l,ye,u=>e(1,s=u)),N(l,At,u=>e(2,a=u)),N(l,Te,u=>e(3,i=u)),N(l,Ce,u=>e(4,d=u));function n(u){return u.startsWith(Je)?u.substring(Je.length):u}return l.$$.update=()=>{l.$$.dirty&30&&e(0,t=d==="daily"?`#${i}: ${a}`:n(s.title))},[t,s,a,i,d]}class ar extends we{constructor(r){super(),ze(this,r,sr,or,he,{})}}function nr(l){let r=l[2].format(Qe)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,s){R(t,e,s)},p(t,s){s&4&&r!==(r=t[2].format(Qe)+"")&&fe(e,r)},d(t){t&&h(e)}}}function ir(l){let r;return{c(){r=ae(l[0])},l(e){r=ne(e,l[0])},m(e,t){R(e,r,t)},p(e,t){t&1&&fe(r,e[0])},d(e){e&&h(r)}}}function ur(l){let r;function e(a,i){return a[1]&&a[0]?ir:nr}let t=e(l),s=t(l);return{c(){s.c(),r=ce()},l(a){s.l(a),r=ce()},m(a,i){s.m(a,i),R(a,r,i)},p(a,[i]){t===(t=e(a))&&s?s.p(a,i):(s.d(1),s=t(a),s&&(s.c(),s.m(r.parentNode,r)))},i:$,o:$,d(a){a&&h(r),s.d(a)}}}function cr(l,r,e){let t,s,a,i;N(l,Ee,f=>e(5,s=f)),N(l,Ne,f=>e(6,a=f)),N(l,Oe,f=>e(7,i=f));let{interval:d}=r,{message:n}=r,u,c=!1;return et(()=>{e(4,u=setInterval(()=>{i===null&&(Ee.update(f=>f+1e3),s>=d*1e3&&(clearInterval(u),e(1,c=!0)))},1e3))}),se.extend(lt),ft(()=>{clearInterval(u)}),l.$$set=f=>{"interval"in f&&e(3,d=f.interval),"message"in f&&e(0,n=f.message)},l.$$.update=()=>{l.$$.dirty&32&&e(2,t=se.duration(s)),l.$$.dirty&120&&a&&(s>=d*1e3&&e(1,c=!0),clearInterval(u))},[n,c,t,d,u,s,a]}class dr extends we{constructor(r){super(),ze(this,r,cr,ur,he,{interval:3,message:0})}}function fr(l){let r=l[2].format(Qe)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,s){R(t,e,s)},p(t,s){s&4&&r!==(r=t[2].format(Qe)+"")&&fe(e,r)},d(t){t&&h(e)}}}function hr(l){let r;return{c(){r=ae(l[0])},l(e){r=ne(e,l[0])},m(e,t){R(e,r,t)},p(e,t){t&1&&fe(r,e[0])},d(e){e&&h(r)}}}function pr(l){let r;function e(a,i){return a[1]&&a[0]?hr:fr}let t=e(l),s=t(l);return{c(){s.c(),r=ce()},l(a){s.l(a),r=ce()},m(a,i){s.m(a,i),R(a,r,i)},p(a,[i]){t===(t=e(a))&&s?s.p(a,i):(s.d(1),s=t(a),s&&(s.c(),s.m(r.parentNode,r)))},i:$,o:$,d(a){a&&h(r),s.d(a)}}}function mr(l,r,e){let t,s,a,i,d;N(l,it,g=>e(5,s=g)),N(l,Le,g=>e(6,a=g)),N(l,Me,g=>e(7,i=g)),N(l,Oe,g=>e(8,d=g));let{interval:n}=r,{message:u}=r,c,f=!1;function m(){e(4,c=setInterval(()=>{!i&&!f&&d===null&&(Le.update(g=>g+1e3),a>=n*1e3&&(clearInterval(c),e(1,f=!0)))},1e3))}return et(()=>{m()}),se.extend(lt),ft(()=>{clearInterval(c)}),l.$$set=g=>{"interval"in g&&e(3,n=g.interval),"message"in g&&e(0,u=g.message)},l.$$.update=()=>{l.$$.dirty&64&&e(2,t=se.duration(a)),l.$$.dirty&216&&i&&(a>=n*1e3&&e(1,f=!0),clearInterval(c)),l.$$.dirty&48&&s&&(it.set(!1),clearInterval(c),Le.set(0),m())},[u,f,t,n,c,s,a,i]}class _r extends we{constructor(r){super(),ze(this,r,mr,pr,he,{interval:3,message:0})}}function br(l){let r,e;return r=new _r({props:{interval:ot,message:pt}}),{c(){Ie(r.$$.fragment)},l(t){Be(r.$$.fragment,t)},m(t,s){Pe(r,t,s),e=!0},i(t){e||(ee(r.$$.fragment,t),e=!0)},o(t){re(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function vr(l){let r,e;return r=new dr({props:{interval:ot,message:pt}}),{c(){Ie(r.$$.fragment)},l(t){Be(r.$$.fragment,t)},m(t,s){Pe(r,t,s),e=!0},i(t){e||(ee(r.$$.fragment,t),e=!0)},o(t){re(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function gr(l){let r,e,t='<svg aria-hidden="true" viewBox="-2 -2 12 17" fill="none" stroke="var(--color-text)" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M0.5 4.5 A3.5 3.5 0 1 1 4 8 V9" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="4" cy="12" r="0.75" stroke-width="1.5"></circle></svg>',s,a,i=`<svg aria-hidden="true" viewBox="-3 -3 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><circle cx="0" cy="0" r="1"></circle><path d="
                M1.4979407787322998 -0.07850953936576843 L1.9972550868988037 -0.10466885566711426
                M0.38822856545448303 -1.4488887786865234 L0.517638087272644 -1.9318516254425049 
                M-1.2580000162124634 -0.8169616460800171 L-1.6773391962051392 -1.089273452758789
                M-1.165722131729126 0.94398432970047 L-1.5542904138565063 1.2586369514465332
                M0.5375528335571289 1.400375485420227 L0.7167364358901978 1.867156744003296
            "></path></svg>`,d,n,u,c,f,m,g='<svg aria-hidden="true" viewBox="-0.6 -0.5 6 6" fill="none" stroke="var(--color-text)" stroke-linecap="round" xmlns="http://www.w3.org/2000/svg" width="90%" height="90%"><path d="M1 2 V4 M2.5 1 V4 M4 3 V4"></path></svg>',b,w,k,v,V,I,S,L;const y=[vr,br],D=[];function G(M,P){return M[0]==="daily"?0:1}return u=G(l),c=D[u]=y[u](l),{c(){r=A("div"),e=A("button"),e.innerHTML=t,s=X(),a=A("button"),a.innerHTML=i,d=X(),n=A("div"),c.c(),f=X(),m=A("button"),m.innerHTML=g,b=X(),w=A("button"),k=J("svg"),v=J("path"),this.h()},l(M){r=H(M,"DIV",{"data-toolbar-size":!0,"data-toolbar-direction":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var P=E(r);e=H(P,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-mw9vy7"&&(e.innerHTML=t),s=Z(P),a=H(P,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ke(a)!=="svelte-1dkmrrv"&&(a.innerHTML=i),d=Z(P),n=H(P,"DIV",{role:!0,"aria-label":!0,class:!0});var j=E(n);c.l(j),j.forEach(h),f=Z(P),m=H(P,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ke(m)!=="svelte-wr6plk"&&(m.innerHTML=g),b=Z(P),w=H(P,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var O=E(w);k=x(O,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,xmlns:!0,height:!0,width:!0});var B=E(k);v=x(B,"path",{d:!0}),E(v).forEach(h),B.forEach(h),O.forEach(h),P.forEach(h),this.h()},h(){o(e,"title","How to play"),o(e,"data-toolbar-pos","0"),o(e,"class","svelte-1y5nl4x"),o(a,"title","Settings"),o(a,"data-toolbar-pos","1"),o(a,"class","svelte-1y5nl4x"),o(n,"role","timer"),o(n,"aria-label","game timer"),o(n,"class","timer-container svelte-1y5nl4x"),o(m,"title","Stats"),o(m,"data-toolbar-pos","2"),o(m,"class","svelte-1y5nl4x"),o(v,"d",`
                M-1.4142135381698608 -1.4142135381698608 
                A1.999999965771458 1.999999965771458 0 1 1 -1.4999996423721313 0.4999951720237732
                M-1.4142135381698608 -1.4142135381698608 L-0.4142089784145355 -1.4142135381698608
                M-1.4142135381698608 -1.4142135381698608 L-1.4142135381698608 -2.414217948913574
            `),o(k,"aria-hidden","true"),o(k,"viewBox","-3.75 -3.5 8 6.25"),o(k,"fill","none"),o(k,"stroke","var(--color-text)"),o(k,"stroke-linecap","round"),o(k,"xmlns","http://www.w3.org/2000/svg"),o(k,"height","100%"),o(k,"width","100%"),o(w,"title","Reset the board"),o(w,"data-toolbar-pos","3"),w.disabled=l[3],o(w,"aria-disabled",l[3]),o(w,"class","svelte-1y5nl4x"),o(r,"data-toolbar-size",V=l[3]?3:4),o(r,"data-toolbar-direction","horizontal"),o(r,"role","toolbar"),o(r,"aria-controls","game-board"),o(r,"aria-label","game controls"),o(r,"class","controls svelte-1y5nl4x")},m(M,P){R(M,r,P),_(r,e),_(r,s),_(r,a),_(r,d),_(r,n),D[u].m(n,null),_(r,f),_(r,m),_(r,b),_(r,w),_(w,k),_(k,v),l[15](r),I=!0,S||(L=[q(e,"click",l[5]),q(e,"keydown",l[6]),q(a,"click",l[7]),q(a,"keydown",l[8]),q(m,"click",l[9]),q(m,"keydown",l[10]),q(w,"click",l[11]),q(w,"keydown",l[12]),q(w,"touchstart",Ge(l[13])),q(w,"touchend",l[14],{passive:!0})],S=!0)},p(M,[P]){let j=u;u=G(M),u!==j&&(Xe(),re(D[j],1,1,()=>{D[j]=null}),Ze(),c=D[u],c||(c=D[u]=y[u](M),c.c()),ee(c,1),c.m(n,null)),(!I||P&8)&&(w.disabled=M[3]),(!I||P&8)&&o(w,"aria-disabled",M[3]),(!I||P&8&&V!==(V=M[3]?3:4))&&o(r,"data-toolbar-size",V)},i(M){I||(ee(c),I=!0)},o(M){re(c),I=!1},d(M){M&&h(r),D[u].d(),l[15](null),S=!1,tt(L)}}}function kr(l,r,e){let t,s,a;N(l,Ce,I=>e(0,s=I)),N(l,Ne,I=>e(4,a=I));let i,d=!1;const n=()=>Oe.set("tutorial"),u=I=>ge(I,i),c=()=>Oe.set("settings"),f=I=>ge(I,i),m=()=>Oe.set("stats"),g=I=>ge(I,i),b=()=>{d||t||Re.set(!0)},w=I=>ge(I,i),k=()=>{e(2,d=!0),t||Re.set(!0)},v=()=>e(2,d=!1);function V(I){rt[I?"unshift":"push"](()=>{i=I,e(1,i)})}return l.$$.update=()=>{l.$$.dirty&17&&e(3,t=a&&s==="daily")},[s,i,d,t,a,n,u,c,f,m,g,b,w,k,v,V]}class yr extends we{constructor(r){super(),ze(this,r,kr,gr,he,{})}}function wr(l){let r=l[2].format(mt)+"",e;return{c(){e=ae(r)},l(t){e=ne(t,r)},m(t,s){R(t,e,s)},p(t,s){s&4&&r!==(r=t[2].format(mt)+"")&&fe(e,r)},d(t){t&&h(e)}}}function zr(l){let r,e;return{c(){r=A("a"),e=ae(l[0]),this.h()},l(t){r=H(t,"A",{class:!0,"data-sveltekit-reload":!0,href:!0});var s=E(r);e=ne(s,l[0]),s.forEach(h),this.h()},h(){o(r,"class","redirect-link svelte-cevt0q"),o(r,"data-sveltekit-reload",""),o(r,"href","/flippin/")},m(t,s){R(t,r,s),_(r,e)},p(t,s){s&1&&fe(e,t[0])},d(t){t&&h(r)}}}function Mr(l){let r;function e(a,i){return a[1]&&a[0]?zr:wr}let t=e(l),s=t(l);return{c(){s.c(),r=ce()},l(a){s.l(a),r=ce()},m(a,i){s.m(a,i),R(a,r,i)},p(a,[i]){t===(t=e(a))&&s?s.p(a,i):(s.d(1),s=t(a),s&&(s.c(),s.m(r.parentNode,r)))},i:$,o:$,d(a){a&&h(r),s.d(a)}}}function Er(l,r,e){let t,{message:s}=r;se.extend(Yt),se.extend(Xt),se.tz.setDefault(Zt);let a,i=!1;const d=se.tz().endOf("d");let n=d.diff(se.tz());return se.extend(lt),et(()=>{if(n<=0||Y(Te)<Qt()){e(1,i=!0);return}a=setInterval(()=>{e(3,n=d.diff(se.tz())),n<=0&&e(1,i=!0)},1e3)}),ft(()=>{clearInterval(a)}),l.$$set=u=>{"message"in u&&e(0,s=u.message)},l.$$.update=()=>{l.$$.dirty&8&&e(2,t=se.duration(n))},[s,i,t,n]}class Tr extends we{constructor(r){super(),ze(this,r,Er,Mr,he,{message:0})}}function kt(l){let r,e="OR TRY FREEPLAY!",t,s,a="Play",i,d;return{c(){r=A("p"),r.textContent=e,t=X(),s=A("button"),s.textContent=a,this.h()},l(n){r=H(n,"P",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-1pg1diw"&&(r.textContent=e),t=Z(n),s=H(n,"BUTTON",{title:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),ke(s)!=="svelte-1cmkl3n"&&(s.textContent=a),this.h()},h(){o(r,"class","label-text svelte-1lzzu7z"),o(s,"title","Start random freeplay puzzle"),o(s,"aria-label","start random freeplay puzzle"),o(s,"class","svelte-1lzzu7z")},m(n,u){R(n,r,u),R(n,t,u),R(n,s,u),i||(d=q(s,"click",l[7]),i=!0)},p:$,d(n){n&&(h(r),h(t),h(s)),i=!1,d()}}}function Cr(l){let r,e,t,s,a,i,d,n,u,c,f,m,g,b,w,k,v,V,I,S="Share",L,y,D="NEW PUZZLE IN:",G,M,P,j,O,B,U;P=new Tr({props:{message:Kt}});let W=l[0]==="daily"&&kt(l);return{c(){r=A("div"),e=A("div"),t=A("p"),s=A("strong"),a=ae(l[4]),i=X(),d=A("p"),n=ae("Moves: "),u=ae(l[1]),c=X(),f=A("p"),m=ae("Resets: "),g=ae(l[2]),b=X(),w=A("p"),k=ae("Hints: "),v=ae(l[3]),V=X(),I=A("button"),I.textContent=S,L=X(),y=A("p"),y.textContent=D,G=X(),M=A("div"),Ie(P.$$.fragment),j=X(),W&&W.c(),this.h()},l(T){r=H(T,"DIV",{role:!0,"aria-label":!0,class:!0});var p=E(r);e=H(p,"DIV",{role:!0,class:!0});var C=E(e);t=H(C,"P",{class:!0});var F=E(t);s=H(F,"STRONG",{});var ie=E(s);a=ne(ie,l[4]),ie.forEach(h),F.forEach(h),i=Z(C),d=H(C,"P",{class:!0});var de=E(d);n=ne(de,"Moves: "),u=ne(de,l[1]),de.forEach(h),c=Z(C),f=H(C,"P",{class:!0});var be=E(f);m=ne(be,"Resets: "),g=ne(be,l[2]),be.forEach(h),b=Z(C),w=H(C,"P",{class:!0});var ve=E(w);k=ne(ve,"Hints: "),v=ne(ve,l[3]),ve.forEach(h),C.forEach(h),V=Z(p),I=H(p,"BUTTON",{class:!0,title:!0,"aria-label":!0,"data-svelte-h":!0}),ke(I)!=="svelte-1vr6q8x"&&(I.textContent=S),L=Z(p),y=H(p,"P",{class:!0,"data-svelte-h":!0}),ke(y)!=="svelte-nrk27u"&&(y.textContent=D),G=Z(p),M=H(p,"DIV",{role:!0,"aria-label":!0,class:!0});var oe=E(M);Be(P.$$.fragment,oe),oe.forEach(h),j=Z(p),W&&W.l(p),p.forEach(h),this.h()},h(){o(t,"class","svelte-1lzzu7z"),o(d,"class","svelte-1lzzu7z"),o(f,"class","svelte-1lzzu7z"),o(w,"class","svelte-1lzzu7z"),o(e,"role","presentation"),o(e,"class","game-recap svelte-1lzzu7z"),o(I,"class","share-button svelte-1lzzu7z"),o(I,"title","Copy results to clipboard"),o(I,"aria-label","copy game results to clipboard"),o(y,"class","label-text svelte-1lzzu7z"),o(M,"role","timer"),o(M,"aria-label","countdown to next daily puzzle"),o(M,"class","countdown-container svelte-1lzzu7z"),o(r,"role","region"),o(r,"aria-label","post-game info"),o(r,"class","game-over-block svelte-1lzzu7z"),K(r,"reduced-motion",l[5])},m(T,p){R(T,r,p),_(r,e),_(e,t),_(t,s),_(s,a),_(e,i),_(e,d),_(d,n),_(d,u),_(e,c),_(e,f),_(f,m),_(f,g),_(e,b),_(e,w),_(w,k),_(w,v),_(r,V),_(r,I),_(r,L),_(r,y),_(r,G),_(r,M),Pe(P,M,null),_(r,j),W&&W.m(r,null),O=!0,B||(U=q(I,"click",l[6]),B=!0)},p(T,[p]){(!O||p&16)&&fe(a,T[4]),(!O||p&2)&&fe(u,T[1]),(!O||p&4)&&fe(g,T[2]),(!O||p&8)&&fe(v,T[3]),T[0]==="daily"?W?W.p(T,p):(W=kt(T),W.c(),W.m(r,null)):W&&(W.d(1),W=null),(!O||p&32)&&K(r,"reduced-motion",T[5])},i(T){O||(ee(P.$$.fragment,T),O=!0)},o(T){re(P.$$.fragment,T),O=!1},d(T){T&&h(r),Ae(P),W&&W.d(),B=!1,U()}}}function Vr(l,r,e){let t,s,a,i,d,n,u,c;N(l,Ht,y=>e(13,s=y)),N(l,me,y=>e(14,a=y)),N(l,Fe,y=>e(15,i=y)),N(l,Ce,y=>e(0,d=y)),N(l,Ke,y=>e(8,n=y)),N(l,De,y=>e(9,u=y)),N(l,ut,y=>e(5,c=y)),se.extend(lt);let{curBoard:f,moveCount:m,resetCount:g,hintCount:b,hasSurrendered:w}=Y(De),k=!1;function v(){const y=Y(Ce)==="daily"?Y(Ee):Y(Le);return y/1e3>=ot?-1:y}function V(y){return y.startsWith(Je)?y.substring(Je.length):y}function I(){const D=`Flippin ${Y(Ce)==="daily"?`#${Y(Te)}: ${Y(At)}`:V(Y(ye).title)}`,G="https://flippin-dev.github.io/flippin/",M=v(),P=M>0?se.duration(M).format(Qe):pt;if(f===null){at("Could not find board image",{theme:{"--toastBackground":"var(--error-color)"}});return}let j="";for(let B=0;B<f.length;B++)B%le===0&&B!==0&&(j+=`
`),j+=f[B]==="0"?"🟥":f[B]==="1"?"🟩":"🟦";let O=`${D}
${j}
Time: ${P}${w?" 🏳":""}
Moves: ${m??""}${!w&&k?" ⭐":""}
Resets: ${g??""}
Hints: ${b??""}

${G}`;navigator.clipboard.writeText(O).then(()=>at("Results copied to clipboard"),()=>at("Could not complete action",{theme:{"--toastBackground":"var(--error-color)"}}))}function S(y){const D=v();let G=0;if(y==="daily"){const M=Y(Te);if(M>0&&M<_t.length+1){const P=_t[M-1];G=ct(P.start,P.end).reduce((j,O)=>j+O,0)}}else{const M=Y(ye);G=ct(M.start,M.end).reduce((P,j)=>P+j,0)}return k=!1,w?"NEXT TIME!":m===G&&b===0?(k=!0,"PERFECT!"):D<0?"SLOW AND STEADY!":D/1e3<=60?"SPEEDY!":b===0?"NO HELP NEEDED!":"CONGRATULATIONS!"}let L=()=>{me.set(Math.floor(Math.random()*i.length));const y=i[a],D=s.get(y),G=D?{title:y,start:D.start,end:D.end}:_e;ye.set(G),D===void 0&&me.set(Y(Fe).findIndex(M=>M===_e.title)),Ce.set("freeplay")};return l.$$.update=()=>{l.$$.dirty&513&&d==="daily"&&e(1,{curBoard:f,moveCount:m,resetCount:g,hintCount:b,hasSurrendered:w}=u,m,(e(2,g),e(0,d),e(9,u),e(8,n)),(e(3,b),e(0,d),e(9,u),e(8,n))),l.$$.dirty&257&&d==="freeplay"&&e(1,{curBoard:f,moveCount:m,resetCount:g,hintCount:b,hasSurrendered:w}=n,m,(e(2,g),e(0,d),e(9,u),e(8,n)),(e(3,b),e(0,d),e(9,u),e(8,n))),l.$$.dirty&1&&e(4,t=S(d))},[d,m,g,b,t,c,I,L,n,u]}class Ir extends we{constructor(r){super(),ze(this,r,Vr,Cr,he,{})}}function Br(l){let r,e,t,s,a,i,d,n,u,c,f,m,g,b,w;return{c(){r=A("div"),e=A("button"),t=J("svg"),s=J("path"),d=X(),n=A("button"),u=J("svg"),c=J("path"),this.h()},l(k){r=H(k,"DIV",{"data-toolbar-size":!0,"data-toolbar-direction":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var v=E(r);e=H(v,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var V=E(e);t=x(V,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,xmlns:!0,width:!0,height:!0});var I=E(t);s=x(I,"path",{d:!0}),E(s).forEach(h),I.forEach(h),V.forEach(h),d=Z(v),n=H(v,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var S=E(n);u=x(S,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,xmlns:!0,width:!0,height:!0});var L=E(u);c=x(L,"path",{d:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),E(c).forEach(h),L.forEach(h),S.forEach(h),v.forEach(h),this.h()},h(){o(s,"d",`m 7.0040696,7.6221535 -1,2
                h -3
                l -1,-2
                a 4,4 0 1 1 5,0
                z
                m -4,3.4999995
                h 3
                m -2,1.5
                h 1`),o(t,"aria-hidden","true"),o(t,"viewBox","0 0 9.0081396 13.122153"),o(t,"fill","var(--color-text)"),o(t,"stroke","var(--color-text)"),o(t,"stroke-linecap","round"),o(t,"stroke-linejoin","round"),o(t,"xmlns","http://www.w3.org/2000/svg"),o(t,"width","70%"),o(t,"height","70%"),o(e,"title","Hint"),o(e,"data-toolbar-pos","0"),e.disabled=a=l[1]||l[2],o(e,"aria-disabled",i=l[1]||l[2]),o(e,"class","svelte-1vtr7qa"),o(c,"d",`M 11.652055,80.048603
            Q 17.429027,62.971525 30.970571,74.872222 44.512115,86.772919 50.289088,69.695841
            L 43.818612,45.547695
            Q 38.041639,62.624773 24.500095,50.724076 10.958551,38.823379 5.1815788,55.900457
            L 18.122531,104.19675`),o(c,"stroke-width","8"),o(c,"stroke-linecap","round"),o(c,"stroke-linejoin","round"),o(u,"aria-hidden","true"),o(u,"viewBox","0 18 50 110"),o(u,"fill","var(--color-text)"),o(u,"stroke","var(--color-text)"),o(u,"xmlns","http://www.w3.org/2000/svg"),o(u,"width","100%"),o(u,"height","100%"),o(n,"title","Surrender"),o(n,"data-toolbar-pos","1"),n.disabled=f=l[1]||l[2],o(n,"aria-disabled",m=l[1]||l[2]),o(n,"class","svelte-1vtr7qa"),o(r,"data-toolbar-size",g=l[1]||l[2]?0:2),o(r,"data-toolbar-direction","horizontal"),o(r,"role","toolbar"),o(r,"aria-controls","game-board"),o(r,"aria-label","extra game controls"),o(r,"class","controls svelte-1vtr7qa")},m(k,v){R(k,r,v),_(r,e),_(e,t),_(t,s),_(r,d),_(r,n),_(n,u),_(u,c),l[10](r),b||(w=[q(e,"click",l[6]),q(e,"keydown",l[7]),q(n,"click",l[8]),q(n,"keydown",l[9])],b=!0)},p(k,[v]){v&6&&a!==(a=k[1]||k[2])&&(e.disabled=a),v&6&&i!==(i=k[1]||k[2])&&o(e,"aria-disabled",i),v&6&&f!==(f=k[1]||k[2])&&(n.disabled=f),v&6&&m!==(m=k[1]||k[2])&&o(n,"aria-disabled",m),v&6&&g!==(g=k[1]||k[2]?0:2)&&o(r,"data-toolbar-size",g)},i:$,o:$,d(k){k&&h(r),l[10](null),b=!1,tt(w)}}}function Pr(l,r,e){let t,s,a,i,d;N(l,Ce,b=>e(3,s=b)),N(l,Me,b=>e(4,a=b)),N(l,Ne,b=>e(5,i=b)),N(l,Se,b=>e(2,d=b));let n;const u=()=>{t||d||dt.set(!0)},c=b=>ge(b,n),f=()=>{t||d||Oe.set("surrender")},m=b=>ge(b,n);function g(b){rt[b?"unshift":"push"](()=>{n=b,e(0,n)})}return l.$$.update=()=>{l.$$.dirty&56&&e(1,t=i&&s==="daily"||a&&s==="freeplay")},[n,t,d,s,a,i,u,c,f,m,g]}class Ar extends we{constructor(r){super(),ze(this,r,Pr,Br,he,{})}}function Hr(l){let r,e,t='<svg aria-hidden="true" viewBox="0 0 40.5014 46.562477" stroke="var(--color-text)" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round" width="75%" height="75%"><g fill="none" stroke-width="2"><path d="m 0.661458,11.97135 19.588983,-11.3099 19.5895,11.3099 -19.5895,11.30991 z"></path><path d="m 20.250441,23.28126 19.5895,-11.30991 v 22.61981 l -19.5895,11.30991 z"></path><path d="M 0.661458,11.97135 20.250441,23.28126 V 45.90107 L 0.661458,34.59116 Z"></path></g><g fill="var(--color-text)" stroke-width="0.75"><path d="m 22.380275,10.741835 c 1.176139,0.679046 1.176139,1.779994 0,2.459041 -1.176141,0.679047 -3.08303,0.679039 -4.259161,-8e-6 -1.176125,-0.679039 -1.176125,-1.779987 0,-2.459026 1.176131,-0.679047 3.08302,-0.679055 4.259161,-7e-6 z"></path><path d="m 32.174791,27.706694 c 0,1.358093 -0.953452,3.009515 -2.129608,3.688562 -1.176149,0.67904 -2.1296,0.128565 -2.1296,-1.22952 0,-1.358087 0.953451,-3.009516 2.1296,-3.688555 1.176156,-0.679048 2.129608,-0.128574 2.129608,1.229513 z"></path><path d="m 27.594774,35.524503 c 0,1.358087 -0.953452,3.009516 -2.12961,3.688555 -1.176148,0.679047 -2.1296,0.128574 -2.1296,-1.229513 0,-1.358094 0.953452,-3.009515 2.1296,-3.688562 1.176158,-0.67904 2.12961,-0.128566 2.12961,1.22952 z"></path><path d="m 36.754817,19.888884 c 0,1.358087 -0.953452,3.009508 -2.1296,3.688555 -1.176157,0.679046 -2.129608,0.128573 -2.129608,-1.229522 0,-1.358086 0.953451,-3.009508 2.129608,-3.688555 1.176148,-0.679048 2.1296,-0.128573 2.1296,1.229522 z"></path><path d="m 8.0055978,22.347929 c 0,1.358087 -0.9534319,1.908568 -2.1295515,1.229521 -1.1761185,-0.679046 -2.1295507,-2.330468 -2.1295507,-3.688554 0,-1.358095 0.9534322,-1.908569 2.1295507,-1.229522 1.1761196,0.679047 2.1295515,2.330468 2.1295515,3.688555 z"></path><path d="m 17.165403,37.983525 c 0,1.358095 -0.953436,1.908568 -2.129552,1.229521 -1.17612,-0.679048 -2.129552,-2.330468 -2.129552,-3.688555 0,-1.358095 0.953432,-1.908568 2.129552,-1.229521 1.176116,0.679048 2.129552,2.330469 2.129552,3.688555 z"></path></g></svg>',s,a,i,d,n,u,c,f,m,g,b,w,k;return{c(){r=A("div"),e=A("button"),e.innerHTML=t,s=X(),a=A("button"),i=J("svg"),d=J("path"),n=J("path"),u=X(),c=A("button"),f=J("svg"),m=J("path"),g=J("path"),this.h()},l(v){r=H(v,"DIV",{"data-toolbar-size":!0,"data-toolbar-direction":!0,role:!0,"aria-controls":!0,"aria-label":!0,class:!0});var V=E(r);e=H(V,"BUTTON",{title:!0,"data-toolbar-pos":!0,class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-czltsi"&&(e.innerHTML=t),s=Z(V),a=H(V,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var I=E(a);i=x(I,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,xmlns:!0,"stroke-linecap":!0,"stroke-linejoin":!0,width:!0,height:!0});var S=E(i);d=x(S,"path",{d:!0}),E(d).forEach(h),n=x(S,"path",{d:!0}),E(n).forEach(h),S.forEach(h),I.forEach(h),u=Z(V),c=H(V,"BUTTON",{title:!0,"data-toolbar-pos":!0,"aria-disabled":!0,class:!0});var L=E(c);f=x(L,"svg",{"aria-hidden":!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,xmlns:!0,"stroke-linecap":!0,"stroke-linejoin":!0,width:!0,height:!0});var y=E(f);m=x(y,"path",{d:!0}),E(m).forEach(h),g=x(y,"path",{d:!0}),E(g).forEach(h),y.forEach(h),L.forEach(h),V.forEach(h),this.h()},h(){o(e,"title","Random puzzle"),o(e,"data-toolbar-pos","0"),o(e,"class","svelte-1vt0mkp"),o(d,"d","M 2.88889,10.38889 V -0.61110997"),o(n,"d","M 6.3888901,2.8888897 2.8888902,-0.61110997 -0.61110997,2.8888902"),o(i,"aria-hidden","true"),o(i,"viewBox","-2 -2 9.7777797 13.77778"),o(i,"fill","none"),o(i,"stroke","var(--color-text)"),o(i,"stroke-width","2.5"),o(i,"xmlns","http://www.w3.org/2000/svg"),o(i,"stroke-linecap","round"),o(i,"stroke-linejoin","round"),o(i,"width","75%"),o(i,"height","75%"),o(a,"title","Previous puzzle"),o(a,"data-toolbar-pos","1"),a.disabled=l[1],o(a,"aria-disabled",l[1]),o(a,"class","svelte-1vt0mkp"),o(m,"d","M 2.88889,10.38889 V -0.61110997"),o(g,"d","M 6.3888901,6.8888903 2.8888902,10.38889 -0.61110997,6.8888898"),o(f,"aria-hidden","true"),o(f,"viewBox","-2 -2 9.7777797 13.77778"),o(f,"fill","none"),o(f,"stroke","var(--color-text)"),o(f,"stroke-width","2.5"),o(f,"xmlns","http://www.w3.org/2000/svg"),o(f,"stroke-linecap","round"),o(f,"stroke-linejoin","round"),o(f,"width","75%"),o(f,"height","75%"),o(c,"title","Next puzzle"),o(c,"data-toolbar-pos",b=l[1]?1:2),c.disabled=l[0],o(c,"aria-disabled",l[0]),o(c,"class","svelte-1vt0mkp"),o(r,"data-toolbar-size",l[6]),o(r,"data-toolbar-direction","vertical"),o(r,"role","toolbar"),o(r,"aria-controls","game-board"),o(r,"aria-label","freeplay game controls"),o(r,"class","controls svelte-1vt0mkp")},m(v,V){R(v,r,V),_(r,e),_(r,s),_(r,a),_(a,i),_(i,d),_(i,n),_(r,u),_(r,c),_(c,f),_(f,m),_(f,g),l[24](r),w||(k=[q(e,"click",l[12]),q(e,"keydown",l[13]),q(e,"touchstart",Ge(l[14])),q(e,"touchend",l[15],{passive:!0}),q(a,"click",l[16]),q(a,"keydown",l[17]),q(a,"touchstart",Ge(l[18])),q(a,"touchend",l[19],{passive:!0}),q(c,"click",l[20]),q(c,"keydown",l[21]),q(c,"touchstart",Ge(l[22])),q(c,"touchend",l[23],{passive:!0})],w=!0)},p(v,[V]){V&2&&(a.disabled=v[1]),V&2&&o(a,"aria-disabled",v[1]),V&2&&b!==(b=v[1]?1:2)&&o(c,"data-toolbar-pos",b),V&1&&(c.disabled=v[0]),V&1&&o(c,"aria-disabled",v[0]),V&64&&o(r,"data-toolbar-size",v[6])},i:$,o:$,d(v){v&&h(r),l[24](null),w=!1,tt(k)}}}function Sr(l,r,e){let t,s,a,i,d,n;N(l,Fe,B=>e(10,i=B)),N(l,me,B=>e(11,d=B)),N(l,Ht,B=>e(25,n=B));let u,c=!1,f=!1,m=!1,g=()=>{me.set(Math.floor(Math.random()*i.length));const B=i[d],U=n.get(B),W=U?{title:B,start:U.start,end:U.end}:_e;ye.set(W),U===void 0&&me.set(Y(Fe).findIndex(T=>T===_e.title)),Ye.set(!0),Re.set(!0)},b=()=>{if(!t){me.update(T=>T-1);const B=i[d],U=n.get(B),W=U?{title:B,start:U.start,end:U.end}:_e;ye.set(W),U===void 0&&me.set(Y(Fe).findIndex(T=>T===_e.title)),Ye.set(!0),Re.set(!0)}},w=()=>{if(!s){me.update(T=>T+1);const B=i[d],U=n.get(B),W=U?{title:B,start:U.start,end:U.end}:_e;ye.set(W),U===void 0&&me.set(Y(Fe).findIndex(T=>T===_e.title)),Ye.set(!0),Re.set(!0)}};const k=()=>c?{}:g(),v=B=>ge(B,u),V=()=>{e(3,c=!0),g()},I=()=>e(3,c=!1),S=()=>f?{}:b(),L=B=>ge(B,u),y=()=>{e(4,f=!0),b()},D=()=>e(4,f=!1),G=()=>m?{}:w(),M=B=>ge(B,u),P=()=>{e(5,m=!0),w()},j=()=>e(5,m=!1);function O(B){rt[B?"unshift":"push"](()=>{u=B,e(2,u)})}return l.$$.update=()=>{l.$$.dirty&3072&&e(1,t=d<=0||d>i.length),l.$$.dirty&3072&&e(0,s=d<-1||d>=i.length-1),l.$$.dirty&3&&e(6,a=t&&s?1:t||s?2:3)},[s,t,u,c,f,m,a,g,b,w,i,d,k,v,V,I,S,L,y,D,G,M,P,j,O]}class Dr extends we{constructor(r){super(),ze(this,r,Sr,Hr,he,{})}}function yt(l,r,e){const t=l.slice();return t[45]=r[e],t}function wt(l,r,e){var c;const t=l.slice();t[48]=r[e];const s=(c=t[0].current[t[45]])==null?void 0:c[t[48]];t[49]=s;const a=t[49]===0;t[50]=a;const i=t[49]===1;t[51]=i;const d=t[49]===2;t[52]=d;const n=t[11](t[45],t[48]);t[53]=n;const u=t[7]&&t[45]===t[5]&&t[48]===t[6];return t[54]=u,t}function zt(l,r,e){const t=l.slice();return t[45]=r[e],t}function Mt(l,r,e){var d,n,u;const t=l.slice();t[48]=r[e];const s=((d=t[0].end[t[45]])==null?void 0:d[t[48]])===0;t[50]=s;const a=((n=t[0].end[t[45]])==null?void 0:n[t[48]])===1;t[51]=a;const i=((u=t[0].end[t[45]])==null?void 0:u[t[48]])===2;return t[52]=i,t}function Nr(l){let r,e,t,s,a,i,d,n=[],u=new Map,c,f,m,g,b,w,k,v,V=[],I=new Map,S,L,y,D,G;r=new ar({});let M=Ve(Array.from(Array(le).keys()));const P=p=>p[45];for(let p=0;p<M.length;p+=1){let C=zt(l,M,p),F=P(C);u.set(F,n[p]=Tt(F,C))}const j=[Fr,Rr],O=[];function B(p,C){return p[4]==="daily"?0:1}f=B(l),m=O[f]=j[f](l),b=new yr({});let U=Ve(Array.from(Array(le).keys()));const W=p=>p[45];for(let p=0;p<U.length;p+=1){let C=yt(l,U,p),F=W(C);I.set(F,V[p]=It(F,C))}L=new Ar({});let T=(l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")&&Bt();return{c(){Ie(r.$$.fragment),e=X(),t=A("div"),s=A("div"),a=X(),i=A("div"),d=A("div");for(let p=0;p<n.length;p+=1)n[p].c();c=X(),m.c(),g=X(),Ie(b.$$.fragment),w=X(),k=A("div"),v=A("div");for(let p=0;p<V.length;p+=1)V[p].c();S=X(),Ie(L.$$.fragment),y=X(),D=A("div"),T&&T.c(),this.h()},l(p){Be(r.$$.fragment,p),e=Z(p),t=H(p,"DIV",{class:!0});var C=E(t);s=H(C,"DIV",{role:!0,class:!0}),E(s).forEach(h),a=Z(C),i=H(C,"DIV",{role:!0,"aria-label":!0,class:!0});var F=E(i);d=H(F,"DIV",{role:!0,class:!0,"aria-label":!0});var ie=E(d);for(let oe=0;oe<n.length;oe+=1)n[oe].l(ie);ie.forEach(h),F.forEach(h),c=Z(C),m.l(C),C.forEach(h),g=Z(p),Be(b.$$.fragment,p),w=Z(p),k=H(p,"DIV",{role:!0,"aria-label":!0,"aria-live":!0,class:!0});var de=E(k);v=H(de,"DIV",{"data-table-rows":!0,"data-table-cols":!0,class:!0,id:!0,role:!0,"aria-label":!0});var be=E(v);for(let oe=0;oe<V.length;oe+=1)V[oe].l(be);be.forEach(h),de.forEach(h),S=Z(p),Be(L.$$.fragment,p),y=Z(p),D=H(p,"DIV",{class:!0,"aria-live":!0});var ve=E(D);T&&T.l(ve),ve.forEach(h),this.h()},h(){o(s,"role","presentation"),o(s,"class","controls-placeholder svelte-1dicv9w"),o(d,"role","table"),o(d,"class","board reference-board svelte-1dicv9w"),o(d,"aria-label","reference game board"),o(i,"role","region"),o(i,"aria-label","end state of game board"),o(i,"class","region-container svelte-1dicv9w"),o(t,"class","upper-region-container svelte-1dicv9w"),o(v,"data-table-rows",le),o(v,"data-table-cols",le),o(v,"class","board game-board"),o(v,"id","game-board"),o(v,"role","grid"),o(v,"aria-label","game board"),o(k,"role","region"),o(k,"aria-label","playing area"),o(k,"aria-live","off"),o(k,"class","region-container svelte-1dicv9w"),o(D,"class","region-container svelte-1dicv9w"),o(D,"aria-live","polite")},m(p,C){Pe(r,p,C),R(p,e,C),R(p,t,C),_(t,s),_(t,a),_(t,i),_(i,d);for(let F=0;F<n.length;F+=1)n[F]&&n[F].m(d,null);_(t,c),O[f].m(t,null),R(p,g,C),Pe(b,p,C),R(p,w,C),R(p,k,C),_(k,v);for(let F=0;F<V.length;F+=1)V[F]&&V[F].m(v,null);l[35](v),R(p,S,C),Pe(L,p,C),R(p,y,C),R(p,D,C),T&&T.m(D,null),G=!0},p(p,C){C[0]&1&&(M=Ve(Array.from(Array(le).keys())),n=xe(n,C,P,1,p,M,u,d,$e,Tt,null,zt));let F=f;f=B(p),f!==F&&(Xe(),re(O[F],1,1,()=>{O[F]=null}),Ze(),m=O[f],m||(m=O[f]=j[f](p),m.c()),ee(m,1),m.m(t,null)),C[0]&12283&&(U=Ve(Array.from(Array(le).keys())),V=xe(V,C,W,1,p,U,I,v,$e,It,null,yt)),p[8]&&p[4]==="daily"||p[10]&&p[4]==="freeplay"?T?C[0]&1296&&ee(T,1):(T=Bt(),T.c(),ee(T,1),T.m(D,null)):T&&(Xe(),re(T,1,1,()=>{T=null}),Ze())},i(p){G||(ee(r.$$.fragment,p),ee(m),ee(b.$$.fragment,p),ee(L.$$.fragment,p),ee(T),G=!0)},o(p){re(r.$$.fragment,p),re(m),re(b.$$.fragment,p),re(L.$$.fragment,p),re(T),G=!1},d(p){p&&(h(e),h(t),h(g),h(w),h(k),h(S),h(y),h(D)),Ae(r,p);for(let C=0;C<n.length;C+=1)n[C].d();O[f].d(),Ae(b,p);for(let C=0;C<V.length;C+=1)V[C].d();l[35](null),Ae(L,p),T&&T.d()}}}function Lr(l){let r,e="<p>Loading...</p>";return{c(){r=A("div"),r.innerHTML=e,this.h()},l(t){r=H(t,"DIV",{class:!0,"data-svelte-h":!0}),ke(r)!=="svelte-kqmxoz"&&(r.innerHTML=e),this.h()},h(){o(r,"class","loading")},m(t,s){R(t,r,s)},p:$,i:$,o:$,d(t){t&&h(r)}}}function Et(l,r){let e,t;return{key:l,first:null,c(){e=A("div"),this.h()},l(s){e=H(s,"DIV",{class:!0,role:!0,"aria-label":!0}),E(e).forEach(h),this.h()},h(){o(e,"class","tile"),o(e,"role","cell"),o(e,"aria-label",t=`${r[50]===!0?"color 1":r[51]===!0?"color 2":"color 3"}`),K(e,"color1",r[50]),K(e,"color2",r[51]),K(e,"color3",r[52]),this.first=e},m(s,a){R(s,e,a)},p(s,a){r=s,a[0]&1&&t!==(t=`${r[50]===!0?"color 1":r[51]===!0?"color 2":"color 3"}`)&&o(e,"aria-label",t),a[0]&1&&K(e,"color1",r[50]),a[0]&1&&K(e,"color2",r[51]),a[0]&1&&K(e,"color3",r[52])},d(s){s&&h(e)}}}function Tt(l,r){let e,t=[],s=new Map,a,i=Ve(Array.from(Array(le).keys()));const d=n=>n[48];for(let n=0;n<i.length;n+=1){let u=Mt(r,i,n),c=d(u);s.set(c,t[n]=Et(c,u))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();a=X(),this.h()},l(n){e=H(n,"DIV",{role:!0,class:!0});var u=E(e);for(let c=0;c<t.length;c+=1)t[c].l(u);a=Z(u),u.forEach(h),this.h()},h(){o(e,"role","row"),o(e,"class","row"),ht(e,"--numColumns",le),this.first=e},m(n,u){R(n,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);_(e,a)},p(n,u){r=n,u[0]&1&&(i=Ve(Array.from(Array(le).keys())),t=xe(t,u,d,1,r,i,s,e,$e,Et,a,Mt))},d(n){n&&h(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Rr(l){let r,e;return r=new Dr({}),{c(){Ie(r.$$.fragment)},l(t){Be(r.$$.fragment,t)},m(t,s){Pe(r,t,s),e=!0},i(t){e||(ee(r.$$.fragment,t),e=!0)},o(t){re(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function Fr(l){let r;return{c(){r=A("div"),this.h()},l(e){r=H(e,"DIV",{role:!0,class:!0}),E(r).forEach(h),this.h()},h(){o(r,"role","presentation"),o(r,"class","controls-placeholder svelte-1dicv9w")},m(e,t){R(e,r,t)},i:$,o:$,d(e){e&&h(r)}}}function Ct(l){let r,e,t,s,a,i,d,n;function u(){return l[32](l[45],l[48])}function c(){return l[33](l[45],l[48])}return{c(){r=A("div"),e=A("button"),this.h()},l(f){r=H(f,"DIV",{class:!0});var m=E(r);e=H(m,"BUTTON",{"data-table-row":!0,"data-table-col":!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-disabled":!0,class:!0}),E(e).forEach(h),m.forEach(h),this.h()},h(){o(e,"data-table-row",l[45]),o(e,"data-table-col",l[48]),o(e,"data-testid","row"+l[45]+"-col"+l[48]),o(e,"role","gridcell"),o(e,"aria-label",t=`${l[50]===!0?"color 1":l[51]===!0?"color 2":"color 3"}`),e.disabled=s=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54],o(e,"aria-disabled",a=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54]),o(e,"class","svelte-1dicv9w"),K(e,"color1",l[50]),K(e,"color2",l[51]),K(e,"color3",l[52]),K(e,"not-hint",l[7]&&!l[54]),K(e,"reduced-motion",l[9]),K(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"),ht(e,"--animationDelay",`${(l[53]?0:Pt)+100*(l[48]+l[45]*(le-1))}ms`),o(r,"class","tile svelte-1dicv9w")},m(f,m){R(f,r,m),_(r,e),d||(n=[q(e,"click",u),q(e,"touchstart",Ge(c)),q(e,"keydown",l[34])],d=!0)},p(f,m){l=f,m[0]&1&&t!==(t=`${l[50]===!0?"color 1":l[51]===!0?"color 2":"color 3"}`)&&o(e,"aria-label",t),m[0]&1520&&s!==(s=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54])&&(e.disabled=s),m[0]&1520&&a!==(a=l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay"||l[7]&&!l[54])&&o(e,"aria-disabled",a),m[0]&1&&K(e,"color1",l[50]),m[0]&1&&K(e,"color2",l[51]),m[0]&1&&K(e,"color3",l[52]),m[0]&224&&K(e,"not-hint",l[7]&&!l[54]),m[0]&512&&K(e,"reduced-motion",l[9]),m[0]&1296&&K(e,"won",l[8]&&l[4]==="daily"||l[10]&&l[4]==="freeplay")},i(f){f&&(i||jt(()=>{i=Gt(e,l[12],{duration:Pt,direction:l[53],label:l[49]}),i.start()}))},o:$,d(f){f&&h(r),d=!1,tt(n)}}}function Vt(l,r){let e,t=r[1],s,a=Ct(r);return{key:l,first:null,c(){e=ce(),a.c(),s=ce(),this.h()},l(i){e=ce(),a.l(i),s=ce(),this.h()},h(){this.first=e},m(i,d){R(i,e,d),a.m(i,d),R(i,s,d)},p(i,d){r=i,d[0]&2&&he(t,t=r[1])?(Xe(),re(a,1,1,$),Ze(),a=Ct(r),a.c(),ee(a,1),a.m(s.parentNode,s)):a.p(r,d)},d(i){i&&(h(e),h(s)),a.d(i)}}}function It(l,r){let e,t=[],s=new Map,a,i=Ve(Array.from(Array(le).keys()));const d=n=>n[48];for(let n=0;n<i.length;n+=1){let u=wt(r,i,n),c=d(u);s.set(c,t[n]=Vt(c,u))}return{key:l,first:null,c(){e=A("div");for(let n=0;n<t.length;n+=1)t[n].c();a=X(),this.h()},l(n){e=H(n,"DIV",{role:!0,class:!0});var u=E(e);for(let c=0;c<t.length;c+=1)t[c].l(u);a=Z(u),u.forEach(h),this.h()},h(){o(e,"role","row"),o(e,"class","row"),ht(e,"--numColumns",le),this.first=e},m(n,u){R(n,e,u);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);_(e,a)},p(n,u){r=n,u[0]&12283&&(i=Ve(Array.from(Array(le).keys())),t=xe(t,u,d,1,r,i,s,e,$e,Vt,a,wt))},d(n){n&&h(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Bt(l){let r,e;return r=new Ir({}),{c(){Ie(r.$$.fragment)},l(t){Be(r.$$.fragment,t)},m(t,s){Pe(r,t,s),e=!0},i(t){e||(ee(r.$$.fragment,t),e=!0)},o(t){re(r.$$.fragment,t),e=!1},d(t){Ae(r,t)}}}function Or(l){let r,e,t,s,a,i;const d=[Lr,Nr],n=[];function u(c,f){return c[2]?1:0}return t=u(l),s=n[t]=d[t](l),{c(){r=A("meta"),e=X(),s.c(),a=ce(),this.h()},l(c){const f=qt("svelte-1tmfi4l",document.head);r=H(f,"META",{name:!0,content:!0}),f.forEach(h),e=Z(c),s.l(c),a=ce(),this.h()},h(){document.title="Flippin",o(r,"name","description"),o(r,"content","A tile flipping game written in SvelteKit")},m(c,f){_(document.head,r),R(c,e,f),n[t].m(c,f),R(c,a,f),i=!0},p(c,f){let m=t;t=u(c),t===m?n[t].p(c,f):(Xe(),re(n[m],1,1,()=>{n[m]=null}),Ze(),s=n[t],s?s.p(c,f):(s=n[t]=d[t](c),s.c()),ee(s,1),s.m(a.parentNode,a))},i(c){i||(ee(s),i=!0)},o(c){re(s),i=!1},d(c){c&&(h(e),h(a)),h(r),n[t].d(c)}}}const Pt=1e3;function Wr(l,r,e){let t,s,a,i,d,n,u,c,f,m,g,b,w,k,v;N(l,Ce,z=>e(4,a=z)),N(l,ye,z=>e(40,i=z)),N(l,Ee,z=>e(25,d=z)),N(l,bt,z=>e(26,n=z)),N(l,vt,z=>e(27,u=z)),N(l,dt,z=>e(28,c=z)),N(l,Re,z=>e(29,f=z)),N(l,Se,z=>e(7,m=z)),N(l,Ne,z=>e(8,g=z)),N(l,nt,z=>e(30,b=z)),N(l,De,z=>e(31,w=z)),N(l,ut,z=>e(9,k=z)),N(l,Me,z=>e(10,v=z));function V(z,Q){return L>=0&&y>=0?z===L-1&&Q===y?"up":z===L&&Q===y+1?"right":z===L+1&&Q===y?"down":z===L&&Q===y-1?"left":null:null}function I(z,Q){const{duration:te,direction:ue,label:pe}=Q;if(Y(ut)||!ue)return{duration:0,css:()=>""};const He=`var(--color-theme-${pe===0?3:pe})`,Ft=`var(--color-theme-${pe+1})`;return{duration:te,css:Ot=>{const qe=xt(Ot);let Ue="";switch(ue){case"right":Ue=`rotateY(${360*qe}deg)`;break;case"left":Ue=`rotateY(${-360*qe}deg)`;break;case"up":Ue=`rotateX(${360*qe}deg)`;break;case"down":Ue=`rotateX(${-360*qe}deg)`;break}return`
					transform: ${Ue};
					background: ${qe<.75?He:Ft}`}}}let S,L=-1,y=-1,D=!1,G=!1,M=!0,P=0,j=0,O=0,B=0,U=0,W=0,T=[],p=-1,C=-1,F=!1,ie=!1,de=!1;function be(){if(t||De.set($t),s||nt.set(er),(t==null?void 0:t.lastGame)===Y(Te)){Ee.set((t==null?void 0:t.curTime)??0),e(17,P=(t==null?void 0:t.moveCount)??0),e(18,O=(t==null?void 0:t.resetCount)??0),e(20,U=(t==null?void 0:t.hintCount)??0),e(24,ie=(t==null?void 0:t.hasSurrendered)??!1);const z=(t==null?void 0:t.curBoard)??"";e(0,S=new je(z))}else e(0,S=new je),Ee.set(0),De.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:Y(Te),moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1}));e(16,M=!0),Ne.set(ve(S.current,S.end))}et(()=>{be(),e(2,G=!0)});const ve=(z,Q)=>z.length===Q.length&&z.every((te,ue)=>te.length===Q[ue].length&&te.every((pe,He)=>pe===Q[ue][He]));function oe(){M&&G?De.update(()=>({curTime:Y(Ee),curBoard:S.serializeCurrent(),lastGame:Y(Te),moveCount:P,resetCount:O,hintCount:U,hasSurrendered:ie})):M||Ke.update(z=>({curTime:Y(Le),curBoard:S.serializeCurrent(),lastGame:z.lastGame,moveCount:j,resetCount:B,hintCount:W,hasSurrendered:de}))}function st(z,Q){g&&a==="daily"||(a==="daily"?e(17,P++,P):j++,m?(Se.set(!1),e(23,F=!0)):F&&e(23,F=!1),S.update(z,Q),e(14,L=z),e(15,y=Q),e(1,D=!D),oe(),ve(S.current,S.end)&&(M?(Ne.set(!0),nt.update(te=>{const ue=Y(Ee)/1e3,pe=te.distribution,He=Math.min(Math.floor(ue/60),ot/60);return pe[He]+=1,{wonGames:te.wonGames+1,fastestGame:!te.fastestGame||ue<te.fastestGame?ue:te.fastestGame,fewestMoves:!te.fewestMoves||P<te.fewestMoves?P:te.fewestMoves,distribution:pe}})):Me.set(!0)))}function St(z){z==="daily"&&!M?(Se.set(!1),e(23,F=!1),e(14,L=-1),e(15,y=-1),e(1,D=!D),be()):z==="freeplay"&&M&&(Se.set(!1),e(23,F=!1),e(24,ie=!1),Me.set(!1),j=0,e(19,B=0),e(21,W=0),de=!1,Le.set(0),Ke.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:0,moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1})),e(0,S=new je("",i??_e)),e(16,M=!1))}let We;const Dt=(z,Q)=>st(z,Q),Nt=(z,Q)=>st(z,Q),Lt=z=>Jt(z,We);function Rt(z){rt[z?"unshift":"push"](()=>{We=z,e(3,We)})}return l.$$.update=()=>{if(l.$$.dirty[1]&1&&(t=w),l.$$.dirty[0]&1073741824&&(s=b),l.$$.dirty[0]&537722881&&f&&(Re.set(!1),Se.set(!1),e(23,F=!1),M?(e(18,O++,O),e(0,S=new je)):(e(0,S=new je("",Y(ye)??_e)),Y(Me)||Y(Ye)?(Me.set(!1),Ye.set(!1),j=0,e(19,B=0),e(21,W=0),de=!1,Le.set(0),it.set(!0),Ke.update(()=>({curTime:0,curBoard:S.serializeCurrent(),lastGame:0,moveCount:0,resetCount:0,hintCount:0,hasSurrendered:!1}))):e(19,B++,B)),e(14,L=-1),e(15,y=-1),oe()),l.$$.dirty[0]&134283267&&u&&(vt.set(!1),e(0,S.current=S.end,S),M?(Ne.set(!0),e(24,ie=!0)):(Me.set(!0),de=!0),e(14,L=-1),e(15,y=-1),e(1,D=!D),oe()),l.$$.dirty[0]&284229633&&c){dt.set(!1),Se.set(!0),F||e(22,T=ct(S.serializeCurrent(),S.serializeEnd()));const z=[],Q=T.reduce((ue,pe,He)=>(pe>0&&ue.push(He),ue),z),te=Q[Math.floor(Math.random()*Q.length)];e(5,p=Math.floor(te/le)),e(6,C=te%le),e(22,T[te]--,T),e(14,L=-1),e(15,y=-1),M?e(20,U++,U):e(21,W++,W),oe()}l.$$.dirty[0]&67158024&&n&&(async()=>{var z;await Ut(),bt.set(!1),(z=We.querySelector(`[data-table-row="${L}"][data-table-col="${y}"]`))==null||z.focus()})(),l.$$.dirty[0]&51838980&&M&&G&&De.update(z=>({curTime:d,curBoard:z.curBoard,lastGame:Y(Te),moveCount:P,resetCount:O,hintCount:U,hasSurrendered:ie})),l.$$.dirty[0]&16&&St(a)},[S,D,G,We,a,p,C,m,g,k,v,V,I,st,L,y,M,P,O,B,U,W,T,F,ie,d,n,u,c,f,b,w,Dt,Nt,Lt,Rt]}class Gr extends we{constructor(r){super(),ze(this,r,Wr,Or,he,{},null,[-1,-1])}}export{Gr as component};
